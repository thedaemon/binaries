<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Dictionary of Plotscripting Commands</title>
<style type="text/css">

					body,p,h1,h2,h3,h4,h5,h6 {
						color: white;
						background-color: black;
					}

					h2 {
						font-style: italic;
					}

					h3 {
						color: #f06060;
					}

					h4 {
						color: yellow;
					}

					pre {
						background-color:#FFFFFF;
						color:#000000;
						border-width:3px;
						border-style:ridge;
						padding:10px;
						padding-left:20px;
						/*font-family:fixedsys,monospace;*/
					}

					a {
						color:#00ff00;
					}
					a:active {
						color: #d0d000;
					}
					a:visited {
						color: #009090;
					}

					a.undef {
						font-weight:bold;
						color:red;
					}
					
					a.ref:after {
						/*content: " ?";*/
					}
					
					.key, .param {
						font-weight: bold;
						color: yellow;
					}
					
					/*.param {
						color: yellow;
					}*/
					
					.seealso {
						display: inline;
						margin:0;
						padding:0;
					}
					
					.seealso li {
						display: inline;
						
					}

				</style>
</head>
<body>
<h1>Plotscripting Dictionary</h1>
<p>This is a listing of all the plotscripting commands implemented as of August 03, 2006 hasta-la-qb version.</p>
<p>In addition to reading this document, I also recommend you check out Plotscripting Tutorial and the HamsterSpeak Specification</p>
<hr>
<h2>Commands by Category</h2>
<p>
		<a href="#Declarations">Declarations</a><br>
	
		<a href="#Wait%20Commands">Wait Commands</a><br>
	
		<a href="#Suspend%20and%20Resume">Suspend and Resume</a><br>
	
		<a href="#Moving%20Heros">Moving Heros</a><br>
	
		<a href="#Moving%20NPCs">Moving NPCs</a><br>
	
		<a href="#Moving%20the%20Camera">Moving the Camera</a><br>
	
		<a href="#Text%20Boxes">Text Boxes</a><br>
	
		<a href="#Triggering%20and%20Showing%20Stuff">Triggering and Showing Stuff</a><br>
	
		<a href="#Adding%20and%20Removing">Adding and Removing</a><br>
	
		<a href="#Effects">Effects</a><br>
	
		<a href="#Hero's%20Spells">Hero's Spells</a><br>
	
		<a href="#Mouse%20Functions">Mouse Functions</a><br>
	
		<a href="#String%20Functions">String Functions</a><br>
	
		<a href="#Misc%20Functions">Misc Functions</a><br>
	
		<a href="#Tweaking%20Maps">Tweaking Maps</a><br>
	
		<a href="#Working%20with%20Tags">Working with Tags</a><br>
	
		<a href="#Working%20with%20Variables">Working with Variables</a><br>
	
		<a href="#Math,%20Comparison,%20and%20Logic%20Operators">Math, Comparison, and Logic Operators</a><br>
	
		<a href="#Flow%20Control">Flow Control</a><br>
	
		<a href="#Advanced%20Commands">Advanced Commands</a><br>
	
		<a href="#Predefined%20Constants">Predefined Constants</a><br>
	</p>
<hr>
<h2>Alphabetical Index</h2>
<p>
		<a href="#about-add">number + number</a><br>
		
	
		<a href="#about-addhero">add hero (who)</a><br>
		
	
		<a href="#about-advancetextbox">advance text box</a><br>
		
	
		<a href="#about-allowminimap">allow minimap (setting)</a><br>
		
	
		<a href="#about-allowsaveanywhere">allow save anywhere (setting)</a><br>
		
	
		<a href="#about-alternpc">alter NPC (who,NPCstat,value)</a><br>
		
	
		<a href="#about-and">value,and,value</a><br>
		
	
		
		<a href="#about-keyconstants">any key</a><br>
	
		<a href="#about-appendascii">append ascii (ID, char)</a><br>
		
	
		<a href="#about-appendnumber">append number (ID, number)</a><br>
		
	
		<a href="#about-asciifromstring">ascii from string (ID, position)</a><br>
		
	
		<a href="#about-autonumber">autonumber</a><br>
		
	
		<a href="#about-autosave">autosave</a><br>
		
	
		<a href="#about-begin">begin,other commands,end</a><br>
		
	
		<a href="#about-booleanconstants">Boolean Constants</a><br>
		
	
		<a href="#about-camerafollowshero">camera follows hero (who)</a><br>
		
	
		<a href="#about-camerafollowsnpc">camera follows NPC (who)</a><br>
		
	
		<a href="#about-camerapixelx">camera pixel X</a><br>
		
	
		<a href="#about-camerapixely">camera pixel Y</a><br>
		
	
		
		<a href="#about-keyconstants">cancel key</a><br>
	
		<a href="#about-cancelmapnamedisplay">cancel map name display</a><br>
		
	
		<a href="#about-canlearnspell">can learn spell (hero,attack)</a><br>
		
	
		<a href="#about-centerstringat">center string at (ID, x, y)</a><br>
		
	
		<a href="#about-changenpcid">change NPC ID (reference,new ID)</a><br>
		
	
		<a href="#about-checkequipment">check equipment (hero,slot)</a><br>
		
	
		<a href="#about-checktag">check tag (tag)</a><br>
		
	
		<a href="#about-clearstring">clear string(ID)</a><br>
		
	
		
		<a href="#about-colorconstants">color:blue</a><br>
	
		<a href="#about-colorconstants">Color Constants</a><br>
		
	
		
		<a href="#about-colorconstants">color:green</a><br>
	
		
		<a href="#about-colorconstants">color:red</a><br>
	
		<a href="#about-concatenatestrings">concatenate strings (dest, source)</a><br>
		
	
		<a href="#about-copystring">copy string (dest, source)</a><br>
		
	
		<a href="#about-createnpc">create NPC (ID,X,Y,direction)</a><br>
		
	
		<a href="#about-crop">crop</a><br>
		
	
		<a href="#about-currentmap">current map</a><br>
		
	
		<a href="#about-currentsong">current song</a><br>
		
	
		<a href="#about-currentstat">current stat</a><br>
		
	
		<a href="#about-daysofplay">days of play</a><br>
		
	
		<a href="#about-decrement">decrement (variable,amount)</a><br>
		
	
		<a href="#about-defaulttile">default tile</a><br>
		
	
		<a href="#about-defineconstant">define constant (number,name)</a><br>
		
	
		<a href="#about-definescript">define script (id,name,arguments)</a><br>
		
	
		<a href="#about-deletechar">delete char (ID, position)</a><br>
		
	
		<a href="#about-deletehero">delete hero (who)</a><br>
		
	
		<a href="#about-deleteitem">delete item (item,number)</a><br>
		
	
		<a href="#about-deletesave">delete save (slot)</a><br>
		
	
		<a href="#about-destroynpc">destroy NPC (reference)</a><br>
		
	
		<a href="#about-directionconstants">Direction Constants</a><br>
		
	
		<a href="#about-dismountvehicle">dismount vehicle</a><br>
		
	
		<a href="#about-divide">number / number</a><br>
		
	
		<a href="#about-do">do</a><br>
		
	
		
		<a href="#about-directionconstants">down</a><br>
	
		
		<a href="#about-keyconstants">down key</a><br>
	
		<a href="#about-drawnpcsaboveheroes">draw NPCs above heroes (setting)</a><br>
		
	
		
		<a href="#about-directionconstants">east</a><br>
	
		
		<a href="#about-tileconstants">east wall</a><br>
	
		
		<a href="#about-numericconstants">eight</a><br>
	
		
		<a href="#about-if">else</a><br>
	
		
		<a href="#about-begin">end</a><br>
	
		<a href="#about-equal">number == number</a><br>
		
	
		<a href="#about-equipmenu">equip menu (who)</a><br>
		
	
		<a href="#about-equipwhere">equip where (hero,item)</a><br>
		
	
		<a href="#about-exponent">number ^ power</a><br>
		
	
		<a href="#about-exportglobals">export globals (slot, first, last)</a><br>
		
	
		<a href="#about-fadescreenin">fade screen in</a><br>
		
	
		<a href="#about-fadescreenout">fade screen out (red,green,blue)</a><br>
		
	
		
		<a href="#about-booleanconstants">false</a><br>
	
		<a href="#about-fightformation">fight formation (number)</a><br>
		
	
		<a href="#about-findhero">find hero (who)</a><br>
		
	
		
		<a href="#about-numericconstants">five</a><br>
	
		<a href="#about-focuscamera">focus camera (x,y,speed)</a><br>
		
	
		<a href="#about-for">for(counter,start,finish,step) do(commands)</a><br>
		
	
		<a href="#about-forceequip">force equip (hero,slot,item)</a><br>
		
	
		<a href="#about-forgetspell">forget spell (hero,attack)</a><br>
		
	
		
		<a href="#about-numericconstants">four</a><br>
	
		<a href="#about-gameover">game over</a><br>
		
	
		<a href="#about-getambientmusic">get ambient music</a><br>
		
	
		<a href="#about-getattackname">get attack name (ID, attack)</a><br>
		
	
		<a href="#about-getcount">get count</a><br>
		
	
		<a href="#about-getdamagecap">get damage cap</a><br>
		
	
		<a href="#about-getdeathscript">get death script</a><br>
		
	
		<a href="#about-getdefaultweapon">get default weapon (hero)</a><br>
		
	
		<a href="#about-geteachstepscript">get each step script</a><br>
		
	
		<a href="#about-getenemyappearance">get enemy appearance (enemyid, appearance)</a><br>
		
	
		<a href="#about-getenemyname">get enemy name (enemyid, stringid)</a><br>
		
	
		<a href="#about-getenemystat">get enemy stat(enemy, stat)</a><br>
		
	
		<a href="#about-getfootoffset">get foot offset</a><br>
		
	
		<a href="#about-getformationsong">get formation song (formation)</a><br>
		
	
		<a href="#about-getglobalstring">get global string (ID, global)</a><br>
		
	
		<a href="#about-getherolevel">get hero level (who)</a><br>
		
	
		<a href="#about-getheroname">get hero name (ID, hero)</a><br>
		
	
		<a href="#about-getheropalette">get hero palette (who,type)</a><br>
		
	
		<a href="#about-getheropicture">get hero picture (who,type)</a><br>
		
	
		<a href="#about-getherostat">get hero stat (who,stat,type)</a><br>
		
	
		<a href="#about-getinsteadofbattlescript">get instead of battle script</a><br>
		
	
		<a href="#about-getitem">get item (item,number)</a><br>
		
	
		<a href="#about-getitemname">get item name (ID, item)</a><br>
		
	
		<a href="#about-getloadscript">get load script</a><br>
		
	
		<a href="#about-getmapedgemode">get map edge mode</a><br>
		
	
		<a href="#about-getmapname">get map name (ID, map)</a><br>
		
	
		<a href="#about-getmaptileset">get map tileset</a><br>
		
	
		<a href="#about-getmoney">get money (amount)</a><br>
		
	
		<a href="#about-getmusicvolume">get music volume</a><br>
		
	
		<a href="#about-getnpcid">get NPC ID (reference)</a><br>
		
	
		<a href="#about-getonkeypressscript">get on keypress script</a><br>
		
	
		<a href="#about-getsongname">get song name (ID, song)</a><br>
		
	
		<a href="#about-giveexperience">give experience (hero,amount)</a><br>
		
	
		<a href="#about-globalstostring">globals to string(ID, starting global, length)</a><br>
		
	
		<a href="#about-globalvariable">global variable (id,name)</a><br>
		
	
		<a href="#about-greaterthan">number &gt;&gt; number</a><br>
		
	
		<a href="#about-greaterthanorequalto">number &gt;= number</a><br>
		
	
		<a href="#about-greyscalepalette">greyscale palette (first,last)</a><br>
		
	
		
		<a href="#about-tileconstants">harm tile</a><br>
	
		<a href="#about-herobyrank">hero by rank (where)</a><br>
		
	
		<a href="#about-herobyslot">hero by slot (where)</a><br>
		
	
		<a href="#about-herodirection">hero direction (who)</a><br>
		
	
		<a href="#about-heroiswalking">hero is walking (who)</a><br>
		
	
		<a href="#about-herolevelled">hero levelled (who)</a><br>
		
	
		<a href="#about-heropixelx">hero pixel X (who)</a><br>
		
	
		<a href="#about-heropixely">hero pixel Y (who)</a><br>
		
	
		<a href="#about-herox">hero X (who)</a><br>
		
	
		<a href="#about-heroy">hero Y (who)</a><br>
		
	
		<a href="#about-hidebattlehealthmeter">hide battle health meter (state)</a><br>
		
	
		<a href="#about-hidebattlereadymeter">hide battle ready meter (state)</a><br>
		
	
		<a href="#about-hidestring">hide string (ID)</a><br>
		
	
		<a href="#about-hoursofplay">hours of play</a><br>
		
	
		<a href="#about-if">if(condition) then(commands) else(commands)</a><br>
		
	
		<a href="#about-importglobals">import globals (slot, first, last)</a><br>
		
	
		<a href="#about-include">include, filename</a><br>
		
	
		<a href="#about-increment">increment (variable,amount)</a><br>
		
	
		<a href="#about-initmouse">init mouse</a><br>
		
	
		<a href="#about-inputstring">input string (ID, maxlength, use current, center, position x, position y)</a><br>
		
	
		<a href="#about-insidebattle">inside battle</a><br>
		
	
		<a href="#about-inventory">inventory (item)</a><br>
		
	
		<a href="#about-itemsmenu">items menu</a><br>
		
	
		<a href="#about-keyconstants">Key Constants</a><br>
		
	
		<a href="#about-keyispressed">key is pressed (scancode)</a><br>
		
	
		<a href="#about-keyval">keyval (scancode)</a><br>
		
	
		<a href="#about-knowsspell">knows spell (hero,attack)</a><br>
		
	
		<a href="#about-lastascii">last ascii</a><br>
		
	
		<a href="#about-lastsaveslot">last save slot</a><br>
		
	
		<a href="#about-leader">leader</a><br>
		
	
		
		<a href="#about-directionconstants">left</a><br>
	
		
		<a href="#about-mouseconstants">left button</a><br>
	
		
		<a href="#about-keyconstants">left key</a><br>
	
		<a href="#about-lessthan">number &lt;&lt; number</a><br>
		
	
		<a href="#about-lessthanorequalto">number &lt;= number</a><br>
		
	
		<a href="#about-loadfromslot">load from slot (slot)</a><br>
		
	
		<a href="#about-loadtileset">load tileset (set)</a><br>
		
	
		<a href="#about-lockhero">lock hero (who)</a><br>
		
	
		<a href="#about-losemoney">lose money (amount)</a><br>
		
	
		<a href="#about-mapheight">map height</a><br>
		
	
		<a href="#about-mapwidth">map width</a><br>
		
	
		<a href="#about-maximumstat">maximum stat</a><br>
		
	
		<a href="#about-me">me</a><br>
		
	
		
		<a href="#about-keyconstants">menu key</a><br>
	
		<a href="#about-minutesofplay">minutes of play</a><br>
		
	
		<a href="#about-modulus">number,mod,number</a><br>
		
	
		<a href="#about-mousebutton">mouse button (which)</a><br>
		
	
		<a href="#about-mouseconstants">Mouse Constants</a><br>
		
	
		<a href="#about-mousepixelx">mouse pixel X</a><br>
		
	
		<a href="#about-mousepixely">mouse pixel Y</a><br>
		
	
		<a href="#about-mouseregion">mouse region (x min, x max, y min, y max)</a><br>
		
	
		<a href="#about-multiply">number * number</a><br>
		
	
		
		<a href="#about-numericconstants">nine</a><br>
	
		<a href="#about-none">none</a><br>
		
	
		
		<a href="#about-directionconstants">north</a><br>
	
		
		<a href="#about-tileconstants">north wall</a><br>
	
		<a href="#about-notequal">number &lt;&gt; number</a><br>
		
	
		<a href="#about-npcatpixel">NPC at pixel (x,y,number)</a><br>
		
	
		<a href="#about-npcatspot">NPC at spot (x,y,number)</a><br>
		
	
		<a href="#about-npccopycount">NPC copy count (ID)</a><br>
		
	
		<a href="#about-npcdirection">NPC direction (who)</a><br>
		
	
		<a href="#about-npciswalking">NPC is walking (who)</a><br>
		
	
		<a href="#about-npcpixelx">NPC pixel X (who)</a><br>
		
	
		<a href="#about-npcpixely">NPC pixel Y (who)</a><br>
		
	
		<a href="#about-npcreference">NPC reference (ID,copy)</a><br>
		
	
		<a href="#about-npcx">NPC X (who)</a><br>
		
	
		<a href="#about-npcy">NPC Y (who)</a><br>
		
	
		<a href="#about-numericconstants">Numeric Constants</a><br>
		
	
		
		<a href="#about-booleanconstants">off</a><br>
	
		
		<a href="#about-booleanconstants">on</a><br>
	
		
		<a href="#about-numericconstants">one</a><br>
	
		<a href="#about-or">value,or,value</a><br>
		
	
		<a href="#about-ordermenu">order menu</a><br>
		
	
		<a href="#about-outsidebattle">outside battle</a><br>
		
	
		
		<a href="#about-tileconstants">overhead tile</a><br>
	
		<a href="#about-pancamera">pan camera (direction,distance,pixelstep)</a><br>
		
	
		<a href="#about-party">party</a><br>
		
	
		<a href="#about-paymoney">pay money (amount)</a><br>
		
	
		<a href="#about-pickhero">pick hero</a><br>
		
	
		<a href="#about-playsong">play song (song)</a><br>
		
	
		<a href="#about-positionstring">positionstring (ID, x, y)</a><br>
		
	
		<a href="#about-putcamera">put camera (x,y)</a><br>
		
	
		<a href="#about-puthero">put hero (who,x,y)</a><br>
		
	
		<a href="#about-putmouse">put mouse (X,Y)</a><br>
		
	
		<a href="#about-putnpc">put npc (who,x,y)</a><br>
		
	
		<a href="#about-random">random (lownumber, highnumber)</a><br>
		
	
		<a href="#about-rankincaterpillar">rank in caterpillar (who)</a><br>
		
	
		<a href="#about-readcolor">read color (index,element)</a><br>
		
	
		<a href="#about-readenemydata">read enemy data (enemyid, data)</a><br>
		
	
		<a href="#about-readglobal">read global (id)</a><br>
		
	
		<a href="#about-readmapblock">read map block (x,y)</a><br>
		
	
		<a href="#about-readnpc">read NPC (who,NPCstat)</a><br>
		
	
		<a href="#about-readpassblock">read pass block (x,y)</a><br>
		
	
		<a href="#about-readspell">read spell (hero,list,slot)</a><br>
		
	
		<a href="#about-renamehero">rename hero(who)</a><br>
		
	
		<a href="#about-renameherobyslot">rename hero by slot(who)</a><br>
		
	
		<a href="#about-replacechar">replace char (ID, position, char)</a><br>
		
	
		<a href="#about-resetpalette">reset palette</a><br>
		
	
		<a href="#about-resumeboxadvance">resume box advance</a><br>
		
	
		
		<a href="#about-resumecaterpillar">resume catapillar</a><br>
	
		<a href="#about-resumecaterpillar">resume caterpillar</a><br>
		
	
		<a href="#about-resumeherowalls">resume hero walls</a><br>
		
	
		<a href="#about-resumemapmusic">resume map music</a><br>
		
	
		<a href="#about-resumenpcs">resume NPCs</a><br>
		
	
		<a href="#about-resumenpcwalls">resume NPC walls</a><br>
		
	
		<a href="#about-resumeobstruction">resume obstruction</a><br>
		
	
		<a href="#about-resumeoverlay">resume overlay</a><br>
		
	
		<a href="#about-resumeplayer">resume player</a><br>
		
	
		<a href="#about-resumerandomenemies">resume random enemies</a><br>
		
	
		
		<a href="#about-resumerandomenemies">resume random enemys</a><br>
	
		<a href="#about-return">return(value)</a><br>
		
	
		
		<a href="#about-directionconstants">right</a><br>
	
		
		<a href="#about-mouseconstants">right button</a><br>
	
		
		<a href="#about-keyconstants">right key</a><br>
	
		<a href="#about-roominactiveparty">room in active party</a><br>
		
	
		<a href="#about-runscriptbyid">run script by ID (id, argument1, argument2, argument3...)</a><br>
		
	
		<a href="#about-saveinslot">save in slot (slot)</a><br>
		
	
		<a href="#about-savemenu">save menu (reallysave)</a><br>
		
	
		<a href="#about-saveslotused">save slot used (slot)</a><br>
		
	
		<a href="#about-script">script, name, argumentnames (statements)</a><br>
		
	
		<a href="#about-secondsofplay">seconds of play</a><br>
		
	
		<a href="#about-setambientmusic">set ambient music (song)</a><br>
		
	
		<a href="#about-setbattlewaitmode">set battle wait mode (state)</a><br>
		
	
		<a href="#about-setcaterpillarmode">set caterpillar mode (state)</a><br>
		
	
		<a href="#about-setdamagecap">set damage cap (cap)</a><br>
		
	
		<a href="#about-setdaysofplay">set days of play (days)</a><br>
		
	
		<a href="#about-setdeathscript">set death script (id)</a><br>
		
	
		<a href="#about-setdebugkeysdisable">set debug keys disable (state)</a><br>
		
	
		<a href="#about-setdefaultweapon">set default weapon (hero,item)</a><br>
		
	
		<a href="#about-seteachstepscript">set each step script (id)</a><br>
		
	
		<a href="#about-setenemyappearance">set enemy appearance (enemyid, appearance,value)</a><br>
		
	
		<a href="#about-setenemyname">set enemy name (enemyid, stringid)</a><br>
		
	
		<a href="#about-setenemystat">set enemy stat(enemy, stat, value)</a><br>
		
	
		<a href="#about-setfootoffset">set foot offset (offset)</a><br>
		
	
		<a href="#about-setformationsong">set formation song (formation, song)</a><br>
		
	
		<a href="#about-setfullheroswapmode">set full hero swap mode (state)</a><br>
		
	
		<a href="#about-setharmtiledamage">set harm tile damage (amount)</a><br>
		
	
		<a href="#about-setharmtileflash">set harm tile flash (color)</a><br>
		
	
		<a href="#about-setherodirection">set hero direction(who, direction)</a><br>
		
	
		<a href="#about-setheroframe">set hero frame(who, frame)</a><br>
		
	
		<a href="#about-setherolevel">set hero level (who, level, forgetspells)</a><br>
		
	
		<a href="#about-setheroname">set hero name (ID, hero)</a><br>
		
	
		<a href="#about-setheropalette">set hero palette (who,palette,type)</a><br>
		
	
		<a href="#about-setheropicture">set hero picture (who,picture,type)</a><br>
		
	
		<a href="#about-setheroposition">set hero position (who, x, y)</a><br>
		
	
		<a href="#about-setherospeed">set hero speed (who, speed)</a><br>
		
	
		<a href="#about-setherostat">set hero stat (who,stat,value,type)</a><br>
		
	
		<a href="#about-setheroz">set hero z (who, z)</a><br>
		
	
		<a href="#about-sethoursofplay">set hours of play (hours)</a><br>
		
	
		<a href="#about-setinnnorevivemode">set inn no revive mode (state)</a><br>
		
	
		<a href="#about-setinsteadofbattlescript">set instead of battle script (id)</a><br>
		
	
		<a href="#about-setloadscript">set load script (id)</a><br>
		
	
		<a href="#about-setmapedgemode">set map edge mode (mode, default tile)</a><br>
		
	
		<a href="#about-setminutesofplay">set minutes of play (min)</a><br>
		
	
		<a href="#about-setmusicvolume">set music volume (volume)</a><br>
		
	
		<a href="#about-setnohpleveluprestore">set no HP level up restore (state)</a><br>
		
	
		<a href="#about-setnompleveluprestore">set no MP level up restore (state)</a><br>
		
	
		<a href="#about-setnpcdirection">set NPC direction (who,direction)</a><br>
		
	
		<a href="#about-setnpcframe">set NPC frame (who,frame)</a><br>
		
	
		<a href="#about-setnpcposition">set NPC position (who,X,Y)</a><br>
		
	
		<a href="#about-setnpcspeed">set NPC speed (who,speed)</a><br>
		
	
		<a href="#about-setonkeypressscript">set on keypress script (id)</a><br>
		
	
		<a href="#about-setsecondssofplay">set seconds of play (sec)</a><br>
		
	
		<a href="#about-settag">set tag (tag,value)</a><br>
		
	
		<a href="#about-setvariable">set variable (variable,value)</a><br>
		
	
		<a href="#about-setvictorymusic">set victory music (song)</a><br>
		
	
		
		<a href="#about-numericconstants">seven</a><br>
	
		<a href="#about-showbackdrop">show backdrop (number)</a><br>
		
	
		<a href="#about-showmap">show map</a><br>
		
	
		<a href="#about-showminimap">show mini map</a><br>
		
	
		<a href="#about-shownovalue">show no value</a><br>
		
	
		<a href="#about-showstring">show string (ID)</a><br>
		
	
		<a href="#about-showstringat">show string at (ID, x, y)</a><br>
		
	
		<a href="#about-showtextbox">show text box (number)</a><br>
		
	
		<a href="#about-showvalue">show value (number)</a><br>
		
	
		
		<a href="#about-numericconstants">six</a><br>
	
		
		<a href="#about-directionconstants">south</a><br>
	
		
		<a href="#about-tileconstants">south wall</a><br>
	
		<a href="#about-spellslearnt">spells learnt (hero,number)</a><br>
		
	
		<a href="#about-spellsmenu">spells menu (who)</a><br>
		
	
		<a href="#about-statusscreen">status screen (who)</a><br>
		
	
		<a href="#about-stopsong">stop song</a><br>
		
	
		<a href="#about-stringcolor">string color (ID, foreground color, background color)</a><br>
		
	
		<a href="#about-stringcompare">string compare (ID1, ID2)</a><br>
		
	
		<a href="#about-stringlength">string length (ID)</a><br>
		
	
		<a href="#about-stringstyle">string style (ID, style)</a><br>
		
	
		<a href="#about-stringtoglobals">string to globals (ID, starting global, length)</a><br>
		
	
		<a href="#about-stringx">string X (ID)</a><br>
		
	
		<a href="#about-stringy">string Y (ID)</a><br>
		
	
		<a href="#about-subtract">number -- number</a><br>
		
	
		<a href="#about-suspendboxadvance">suspend box advance</a><br>
		
	
		
		<a href="#about-suspendcaterpillar">suspend catapillar</a><br>
	
		<a href="#about-suspendcaterpillar">suspend caterpillar</a><br>
		
	
		<a href="#about-suspendherowalls">suspend hero walls</a><br>
		
	
		<a href="#about-suspendmapmusic">suspend map music</a><br>
		
	
		<a href="#about-suspendnpcs">suspend NPCs</a><br>
		
	
		<a href="#about-suspendnpcwalls">suspend NPC walls</a><br>
		
	
		<a href="#about-suspendobstruction">suspend obstruction</a><br>
		
	
		<a href="#about-suspendoverlay">suspend overlay</a><br>
		
	
		<a href="#about-suspendplayer">suspend player</a><br>
		
	
		<a href="#about-suspendrandomenemies">suspend random enemies</a><br>
		
	
		
		<a href="#about-suspendrandomenemies">suspend random enemys</a><br>
	
		<a href="#about-swapbyname">swap by name (name,name)</a><br>
		
	
		<a href="#about-swapbyposition">swap by position (position,position)</a><br>
		
	
		<a href="#about-swapinhero">swap in hero (who)</a><br>
		
	
		<a href="#about-swapouthero">swap out hero (who)</a><br>
		
	
		<a href="#about-systemday">system day</a><br>
		
	
		<a href="#about-systemhour">system hour</a><br>
		
	
		<a href="#about-systemminute">system minute</a><br>
		
	
		<a href="#about-systemmonth">system month</a><br>
		
	
		<a href="#about-systemsecond">system second</a><br>
		
	
		<a href="#about-systemyear">system year</a><br>
		
	
		<a href="#about-teachspell">teach spell (hero,attack)</a><br>
		
	
		<a href="#about-teammenu">team menu</a><br>
		
	
		<a href="#about-teleporttomap">teleport to map (map, x, y)</a><br>
		
	
		
		<a href="#about-numericconstants">nine</a><br>
	
		
		<a href="#about-if">then</a><br>
	
		
		<a href="#about-numericconstants">three</a><br>
	
		<a href="#about-tileconstants">Tile Constants</a><br>
		
	
		<a href="#about-trace">trace (string)</a><br>
		
	
		
		<a href="#about-booleanconstants">true</a><br>
	
		<a href="#about-tweakpalette">tweak palette (red, green ,blue ,first,last)</a><br>
		
	
		
		<a href="#about-numericconstants">two</a><br>
	
		<a href="#about-unequip">unequip (hero,slot)</a><br>
		
	
		<a href="#about-unlockhero">unlock hero (who)</a><br>
		
	
		
		<a href="#about-directionconstants">up</a><br>
	
		<a href="#about-updatepalette">update palette</a><br>
		
	
		
		<a href="#about-keyconstants">up key</a><br>
	
		<a href="#about-usedoor">use door (number)</a><br>
		
	
		
		<a href="#about-keyconstants">use key</a><br>
	
		<a href="#about-usenpc">Use NPC (who)</a><br>
		
	
		<a href="#about-useshop">use shop (shop)</a><br>
		
	
		<a href="#about-variable">variable (name)</a><br>
		
	
		
		<a href="#about-tileconstants">vehicle A</a><br>
	
		
		<a href="#about-tileconstants">vehicle B</a><br>
	
		<a href="#about-wait">wait (ticks)</a><br>
		
	
		<a href="#about-waitforall">wait for all</a><br>
		
	
		<a href="#about-waitforcamera">wait for camera</a><br>
		
	
		<a href="#about-waitforhero">wait for hero (who)</a><br>
		
	
		<a href="#about-waitforkey">wait for key (key)</a><br>
		
	
		<a href="#about-waitfornpc">wait for NPC (who)</a><br>
		
	
		<a href="#about-waitfortextbox">wait for text box</a><br>
		
	
		<a href="#about-walkhero">walk hero (who, direction, distance)</a><br>
		
	
		<a href="#about-walkherotox">walk hero to x (who,x)</a><br>
		
	
		<a href="#about-walkherotoy">walk hero to y (who,x)</a><br>
		
	
		<a href="#about-walknpc">walk NPC (who,direction,distance)</a><br>
		
	
		<a href="#about-walknpctox">walk NPC to X (who,X)</a><br>
		
	
		<a href="#about-walknpctoy">walk NPC to Y (who,Y)</a><br>
		
	
		
		<a href="#about-directionconstants">west</a><br>
	
		
		<a href="#about-tileconstants">west wall</a><br>
	
		<a href="#about-while">while(condition) do(commands)</a><br>
		
	
		<a href="#about-wrap">wrap</a><br>
		
	
		<a href="#about-writecolor">write color (index,element,value)</a><br>
		
	
		<a href="#about-writeenemydata">write enemy data (enemyid, data, value)</a><br>
		
	
		<a href="#about-writeglobal">write global (id,value)</a><br>
		
	
		<a href="#about-writemapblock">write map block (x,y,value)</a><br>
		
	
		<a href="#about-writepassblock">write pass block (x,y,value)</a><br>
		
	
		<a href="#about-writespell">write spell (hero,list,slot,attack)</a><br>
		
	
		<a href="#about-xor">value,xor,value</a><br>
		
	
		
		<a href="#about-numericconstants">zero</a><br>
	</p>
<hr>
		<a name="Declarations"></a>
		
		<font color="#f06060" size="4">Declarations</font>
		<p></p>
		
		<a name="about-definescript"></a>
		<p>
		<tt>
		<b><font color="yellow">define script (id,name,arguments)</font></b><br>
			The define script command names a script, and associates it with an ID number. Every script must have a unique ID number for your game to call it directly (scripts that will only be called indirectly, by other scripts can use the special ID autonumber). The first argument is the <span class="param">ID number</span>. It is a number between 1 and 16383. If you try to give two individual scripts the same <span class="param">ID number</span>, your script file will not compile. The next argument is the <span class="param">name</span> of the script. this is the same name that will used later in your script command. The third argument is the number of arguments that the script can accept. If it doesnt need any arguments (most scripts dont) then use <a href="#about-none" class="ref">none</a>. If there are arguments, you then follow the argument count with default values for each argument.
			<pre># example of a simple script definition
define script (1,my first script,none)</pre>
<pre># example of a script definition with arguments. this script
# has three arguments, all of which default to zero if they
# are not specified
define script (2,my fancy script,3,0,0,0)</pre>
			
		</tt></p>
		<a name="about-script"></a>
		<p>
		<tt>
		<b><font color="yellow">script, name, argumentnames (statements)</font></b><br>
			The script command contains the actual source code of a plotscript. every script command must have a corresponding <a href="#about-definescript" class="ref">define script</a> statement. Script starts with the keyword script, a comma, and then the name of the script. If there are any arguments to the script, you list their names separated by commas after the name of the script. Then comes the text of the script. It is usually enclosed in <a href="#about-begin" class="ref">begin</a> and <a href="#about-begin" class="ref">end</a> statements.
			<pre># example of a simple script
script,my first script,begin
	# commands go here
end</pre>
<pre># example of a script with arguments
script,my fancy script,fe,fi,fo,begin
	# commands go here,
	# and they can use the aruments fe, fi, and fo
	# that where passed to the script
end</pre>
			
		</tt></p>
		<a name="about-globalvariable"></a>
		<p>
		<tt>
		<b><font color="yellow">global variable (id,name)</font></b><br>
			Creates a global variable that can be used in any script. The first argument to the global variable declaration is a unique ID number. The second argument is the name of the variable. The ID number for a global variable is a number from 0 to 1024. Each global variable must have a unique number, but this number will not conflict with the ID numbers you use for scripts. It is all right to have a script and a global variable with the same ID number. See also <a href="#about-variable" class="ref">variable</a>
			<pre># any script can read and set the value of a global
global variable(1,mini game score)</pre>
			
		</tt></p>
		<a name="about-variable"></a>
		<p>
		<tt>
		<b><font color="yellow">variable (name)</font></b><br>
			Creates a local variable that can only be used inside the script where it was created. The value of this variable is lost when the script ends. If you need a variable who's value persists between calls to a script, or that is automatically saved when the player saves their game, you will need to use a <a href="#about-globalvariable" class="ref">global variable</a> instead.
			<pre>variable(points) # make a new variable
variable+=1 # add one to it</pre>
			
		</tt></p>
		<a name="about-defineconstant"></a>
		<p>
		<tt>
		<b><font color="yellow">define constant (number,name)</font></b><br>
			Creates a global constant. The first argument is the number that the constant will represent, and the second argument is the name of the constant. Use constants to replace commonly used numbers with friendly names. The following constants have been delacred for you in PLOTSRC.HSD:<br><a href="#about-numericconstants" class="ref">zero</a> <a href="#about-numericconstants" class="ref">one</a> <a href="#about-numericconstants" class="ref">two</a> <a href="#about-numericconstants" class="ref">three</a> <a href="#about-numericconstants" class="ref">four</a> <a href="#about-numericconstants" class="ref">five</a> <a href="#about-numericconstants" class="ref">six</a> <a href="#about-numericconstants" class="ref">seven</a> <a href="#about-numericconstants" class="ref">eight</a> <a href="#about-numericconstants" class="ref">nine</a> <a href="#about-numericconstants" class="ref">nine</a> <a href="#about-booleanconstants" class="ref">false</a> <a href="#about-booleanconstants" class="ref">true</a> <a href="#about-booleanconstants" class="ref">off</a> <a href="#about-booleanconstants" class="ref">on</a> <a href="#about-directionconstants" class="ref">north</a> <a href="#about-directionconstants" class="ref">east</a> <a href="#about-directionconstants" class="ref">south</a> <a href="#about-directionconstants" class="ref">west</a> <a href="#about-directionconstants" class="ref">up</a> <a href="#about-directionconstants" class="ref">down</a> <a href="#about-directionconstants" class="ref">left</a> <a href="#about-directionconstants" class="ref">right</a> <a href="#about-keyconstants" class="ref">up key</a> <a href="#about-keyconstants" class="ref">down key</a> <a href="#about-keyconstants" class="ref">left key</a> <a href="#about-keyconstants" class="ref">right key</a> <a href="#about-keyconstants" class="ref">use key</a> <a href="#about-keyconstants" class="ref">cancel key</a> <a href="#about-keyconstants" class="ref">menu key</a> <a href="#about-keyconstants" class="ref">any key</a> <a href="#about-me" class="ref">me</a> <a href="#about-none" class="ref">none</a> <a href="#about-autonumber" class="ref">autonumber</a> <a href="#about-currentstat" class="ref">current stat</a> <a href="#about-maximumstat" class="ref">maximum stat</a> <a href="#about-tileconstants" class="ref">north wall</a> <a href="#about-tileconstants" class="ref">east wall</a> <a href="#about-tileconstants" class="ref">south wall</a> <a href="#about-tileconstants" class="ref">west wall</a> <a href="#about-tileconstants" class="ref">vehicle A</a> <a href="#about-tileconstants" class="ref">vehicle A</a> <a href="#about-tileconstants" class="ref">harm tile</a> <a href="#about-tileconstants" class="ref">overhead tile</a>
			
			
		</tt></p>
		<a name="about-include"></a>
		<p>
		<tt>
		<b><font color="yellow">include, filename</font></b><br>
			The include command inserts another text file into your script. It is followed by a single filename that tells what file will be included. Windows long filenames are not supported. Every plotscript file should start with include, plotscr.hsd The PLOTSCR.HSD file contains definitions and constants for most of the other plotscripting commands.
			<pre>include, plotscr.hsd # Plotscripting definitions
include, mygame.hsi # constants particular to my game</pre>
			
		</tt></p>
		
		<hr>
	
		<a name="Wait Commands"></a>
		
		<font color="#f06060" size="4">Wait Commands</font>
		<p></p>
		
		<a name="about-wait"></a>
		<p>
		<tt>
		<b><font color="yellow">wait (ticks)</font></b><br>
			Makes the script wait for the specified number of ticks. There are roughly 18 ticks to a second, but this can vary under some conditions. If you leave out the argument, it will wait for one tick.
			<pre>show text box(2) # Show a text box
wait(50) # Wait about 3 seconds
advance text box # "hit spacebar"</pre>
			
		</tt></p>
		<a name="about-waitfortextbox"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for text box</font></b><br>
			Makes the script wait until there is no text box displaying on the screen. Useful to know when to move on after using a <a href="#about-showtextbox" class="ref">show text box</a> command
			<pre>show text box(2) # Show a text box
wait for text box # wait until the player continues</pre>
			
		</tt></p>
		<a name="about-waitforhero"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for hero (who)</font></b><br>
			Waits for the specified hero stop walking. Use the constant <a href="#about-me" class="ref">me</a> to refer to the leader, or use numbers 0,1,2,3 to refer to a specific hero. If you leave out the argument, the first hero will be assumed.
			<pre>move hero to y (me, 10) # move hero to (x, 10)
wait for hero (me) # wait until he stops</pre>
			
		</tt></p>
		<a name="about-waitforkey"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for key (key)</font></b><br>
			Waits for the player to press a key. You can use the follwing constants: <a href="#about-keyconstants" class="ref">any key</a>, <a href="#about-keyconstants" class="ref">up key</a>, <a href="#about-keyconstants" class="ref">down key</a>, <a href="#about-keyconstants" class="ref">left key</a>, <a href="#about-keyconstants" class="ref">right key</a>, <a href="#about-keyconstants" class="ref">use key</a>, <a href="#about-keyconstants" class="ref">cancel key</a>, or <a href="#about-keyconstants" class="ref">menu key</a>. If you do not specify, then <a href="#about-keyconstants" class="ref">any key</a> will be used.
			<pre>show text box(623) # "press cancel!"
wait for key(cancel key)</pre>
			
		</tt></p>
		<a name="about-waitfornpc"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for NPC (who)</font></b><br>
			Waits for the specified NPC to stop walking. The argument is the number of the NPC, 0 to 35. If more than one copy of the NPC exists on the map, it only checks the first one.
			<pre>walk NPC (2,up,3) # make the NPC go up three spaces
wait for NPC (2) # wait until he's done</pre>
			
		</tt></p>
		<a name="about-waitforcamera"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for camera</font></b><br>
			Wait for the camera to stop panning after a <a href="#about-pancamera" class="ref">pan camera</a> or <a href="#about-focuscamera" class="ref">focus camera</a> command.
			<pre>pan camera (left,10) # show the villan 10 tiles off screen
wait for camera # wait until he's on screen</pre>
			
		</tt></p>
		<a name="about-waitforall"></a>
		<p>
		<tt>
		<b><font color="yellow">wait for all</font></b><br>
			Waits for any camera motion to stop, waits for all heros to stop walking, and if <a href="#about-suspendnpcs" class="ref">suspend NPCs</a> is active, waits for all NPCs to stop walking.
			<pre># do a bunch of things all at once
wait for all # wait until everything is done</pre>
			
		</tt></p>
		
		<hr>
	
		<a name="Suspend and Resume"></a>
		
		<font color="#f06060" size="4">Suspend and Resume</font>
		<p></p>
		
		<a name="about-suspendplayer"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend player</font></b><br>
			Blocks the player from controlling the game, so the plotscript can have exclusive control. The one exception to this is text boxes. The player can advance text boxes no matter what, unless you use <a href="#about-suspendboxadvance" class="ref">suspend box advance</a>.
			<pre>suspend player
# do stuff
resume player</pre>
			
		</tt></p>
		<a name="about-resumeplayer"></a>
		<p>
		<tt>
		<b><font color="yellow">resume player</font></b><br>
			Restores normal control after a <a href="#about-suspendplayer" class="ref">suspend player</a> command. This is very important. If you use <a href="#about-suspendplayer" class="ref">suspend player</a>, but forget resume player, the game will be stuck after the script ends.
			<pre>suspend player
# do stuff
resume player</pre>
			
		</tt></p>
		<a name="about-suspendnpcs"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend NPCs</font></b><br>
			Stops NPCs from walking around automatically. When suspend NPCs is run, all NPCs stop in their tracks, ready for you to control them with the <a href="#about-walknpc" class="ref">walk NPC</a> command
			<pre>suspend NPCs
# do stuff
resume NPCs</pre>
			
		</tt></p>
		<a name="about-resumenpcs"></a>
		<p>
		<tt>
		<b><font color="yellow">resume NPCs</font></b><br>
			Restores automatic NPC movement after a <a href="#about-suspendnpcs" class="ref">suspend NPCs</a> command
			<pre>suspend NPCs
# do stuff
resume NPCs</pre>
			
		</tt></p>
		<a name="about-suspendobstruction"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend obstruction</font></b><br>
			Allows heros to walk through NPCs, allows NPCs to walk through heros, and allows NPCs to walk through each other. Use <a href="#about-resumeobstruction" class="ref">resume obstruction</a> to restore normal obstruction behavior.
			<pre>suspend obstruction
# walk through things
resume obstruction</pre>
			
		</tt></p>
		<a name="about-resumeobstruction"></a>
		<p>
		<tt>
		<b><font color="yellow">resume obstruction</font></b><br>
			Restores normal obstruction after a <a href="#about-suspendobstruction" class="ref">suspend obstruction</a> command
			<pre>suspend obstruction
# walk through things
resume obstruction</pre>
			
		</tt></p>
		<a name="about-suspendherowalls"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend hero walls</font></b><br>
			Allows heros to walk through walls. Use <a href="#about-resumeherowalls" class="ref">resume hero walls</a> to restore normal wall behavior.
			<pre>suspend hero walls # hero is now a ghost
# walk through things
resume hero walls # back to mortality...</pre>
			
		</tt></p>
		<a name="about-resumeherowalls"></a>
		<p>
		<tt>
		<b><font color="yellow">resume hero walls</font></b><br>
			Restores normal wall behavior after a <a href="#about-suspendherowalls" class="ref">suspend hero walls</a> command
			<pre>suspend hero walls # hero is now a ghost
# walk through things
resume hero walls # back to mortality...</pre>
			
		</tt></p>
		<a name="about-suspendnpcwalls"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend NPC walls</font></b><br>
			Allows NPCs to walk through walls. Use <a href="#about-resumenpcwalls" class="ref">resume NPC walls</a> to restore normal wall behavior.
			<pre>suspend NPC walls # npc is now a ghost
# walk through things
resume NPC walls # back to mortality...</pre>
			
		</tt></p>
		<a name="about-resumenpcwalls"></a>
		<p>
		<tt>
		<b><font color="yellow">resume NPC walls</font></b><br>
			Restores normal wall behavior after a <a href="#about-suspendnpcwalls" class="ref">suspend NPC walls</a> command.
			<pre>suspend NPC walls # npc is now a ghost
# walk through things
resume NPC walls # back to mortality...</pre>
			
		</tt></p>
		<a name="about-suspendcaterpillar"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend caterpillar</font></b><br>
			Stops your other heros from following the leader. This is useful when you want to control them individually with <a href="#about-walkhero" class="ref">walk hero</a> commands. In earlier versions this was misspelled as suspend catapillar. The old spelling still works for backwards compatability.
			<pre>suspend caterpillar # cutscene
# move heros, probably fight a battle or two...
resume caterpillar # normal game again.</pre>
			
		</tt></p>
		<a name="about-resumecaterpillar"></a>
		<p>
		<tt>
		<b><font color="yellow">resume caterpillar</font></b><br>
			Reverses the <a href="#about-suspendcaterpillar" class="ref">suspend caterpillar</a> command, and makes your other heros follow the leader as normal. In earlier versions this was misspelled as resume catapillar. The old spelling still works for backwards compatability.
			<pre>suspend caterpillar # cutscene
# move heros, probably fight a battle or two...
resume caterpillar # normal game again.</pre>
			
		</tt></p>
		<a name="about-suspendcatapillar"></a>
		<p>
		<tt>
		
				<b><font color="yellow">suspend catapillar</font></b><br>
				See <a href="#about-suspendcaterpillar">suspend caterpillar</a>
			</tt></p>
		<a name="about-resumecatapillar"></a>
		<p>
		<tt>
		
				<b><font color="yellow">resume catapillar</font></b><br>
				See <a href="#about-resumecaterpillar">resume caterpillar</a>
			</tt></p>
		<a name="about-suspendrandomenemies"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend random enemies</font></b><br>
			Prevents enemies from attacking your party while walking over tiles that can normally spawn random battles. This is useful to prevent battles from interrupting a plotscript. In earlier versions, this was misspelled as suspend random enemys. The old spelling still works for backwards compatability.
			<pre>suspend random enemies # no battles for now
walk hero (me, up, 10) # cross pit of evil monsters of doom
resume random enemies # back to normal</pre>
			
		</tt></p>
		<a name="about-resumerandomenemies"></a>
		<p>
		<tt>
		<b><font color="yellow">resume random enemies</font></b><br>
			Undoes the <a href="#about-suspendrandomenemies" class="ref">suspend random enemies</a> command and allows random battles to occur as normal. In earlier versions, this was misspelled as resume random enemys. The old spelling still works for backwards compatability.
			<pre>suspend random enemies # no battles for now
walk hero (me, up, 10) # cross pit of evil monsters of doom
resume random enemies # back to normal</pre>
			
		</tt></p>
		<a name="about-suspendrandomenemys"></a>
		<p>
		<tt>
		
				<b><font color="yellow">suspend random enemys</font></b><br>
				See <a href="#about-suspendrandomenemies">suspend random enemies</a>
			</tt></p>
		<a name="about-resumerandomenemys"></a>
		<p>
		<tt>
		
				<b><font color="yellow">resume random enemys</font></b><br>
				See <a href="#about-resumerandomenemies">resume random enemies</a>
			</tt></p>
		<a name="about-suspendboxadvance"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend box advance</font></b><br>
			Prevents the player from advancing or clearing text boxes by pressing keys. While this is active, the only way to make a text box advance is with the <a href="#about-advancetextbox" class="ref">advance text box</a> command. Be very careful with this command, since you do not want to leave the player stuck on a text box forever.
			<pre>suspend box advance # stop players from mucking things up
show text box(2) # Show a text box
wait(45) # Wait about 3 seconds
advance text box # "hit spacebar"
resume box advance # go back to normal</pre>
			
		</tt></p>
		<a name="about-resumeboxadvance"></a>
		<p>
		<tt>
		<b><font color="yellow">resume box advance</font></b><br>
			Undoes the <a href="#about-suspendboxadvance" class="ref">suspend box advance</a> command and allows the player to advance and clear text boxes by pressing keys as normal.
			<pre>suspend box advance # stop players from mucking things up
show text box(2) # Show a text box
wait(45) # Wait about 3 seconds
advance text box # "hit spacebar"
resume box advance # go back to normal</pre>
			
		</tt></p>
		<a name="about-suspendoverlay"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend overlay</font></b><br>
			Prevents overhead tiles from being drawn over heros and NPCs.
			
			
		</tt></p>
		<a name="about-resumeoverlay"></a>
		<p>
		<tt>
		<b><font color="yellow">resume overlay</font></b><br>
			Causes overhead tiles to be drawn over heros and NPCs as normal.
			
			
		</tt></p>
		<a name="about-suspendmapmusic"></a>
		<p>
		<tt>
		<b><font color="yellow">suspend map music</font></b><br>
			Causes ambient music not to automatically play when you enter a map. Does not affect the currently playing music, or the map's ambient music. Use when playing thematic music during a scene that involves changing maps.
			<pre># begin scene
play song(song:Happy Times)
show textbox (117)
wait for textbox
# goto another map without triggering music
fade screen out
wait
suspend map music
use door(3)
fade screen in
# continue scene
show textbox (118)
wait for textbox
# return to normal music behaviour and play the ambient music
resume map music
play song (get ambient music)</pre>
			<br><br>See also: <ul class="seealso">
<li>
<a href="#about-setambientmusic" class="ref">set ambient music</a>, </li>
<li><a href="#about-getambientmusic" class="ref">get ambient music</a></li>
</ul>
		</tt></p>
		<a name="about-resumemapmusic"></a>
		<p>
		<tt>
		<b><font color="yellow">resume map music</font></b><br>
			Causes ambient music to automatically start playing when you enter a map again after a <a href="#about-suspendmapmusic" class="ref">resume map music</a> command.
			
			
		</tt></p>
		
		<hr>
	
		<a name="Moving Heros"></a>
		
		<font color="#f06060" size="4">Moving Heros</font>
		<p></p>
		
		<a name="about-walkhero"></a>
		<p>
		<tt>
		<b><font color="yellow">walk hero (who, direction, distance)</font></b><br>
			Makes the specified hero move in the specified direction for the specified number of tiles. The first argument tells who to move. Use <a href="#about-me" class="ref">me</a> or numbers 0-3. The second argument is the direction. Use the constants: <a href="#about-directionconstants" class="ref">north</a>, <a href="#about-directionconstants" class="ref">south</a>, <a href="#about-directionconstants" class="ref">east</a>, <a href="#about-directionconstants" class="ref">west</a>, <a href="#about-directionconstants" class="ref">up</a>, <a href="#about-directionconstants" class="ref">down</a>, <a href="#about-directionconstants" class="ref">left</a>, or <a href="#about-directionconstants" class="ref">right</a>. The third argument is the number of tiles to move. If you leave out the third argument, the hero will move one tile. Walk hero is usually used with the <a href="#about-waitforhero" class="ref">wait for hero</a> command. You should normally use the <a href="#about-suspendplayer" class="ref">suspend player</a> command before moving heros, and if you want to move heros other than the leader, you should use the <a href="#about-suspendcaterpillar" class="ref">suspend caterpillar</a> command.
			<pre>suspend player # stop player
walk hero(me,up,3) # move him up 3 tiles
resume player # ok, done</pre>
			
		</tt></p>
		<a name="about-setherodirection"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero direction(who, direction)</font></b><br>
			Makes the specified hero face in the specified direction. The following constants are avaialable for direction: <a href="#about-directionconstants" class="ref">north</a>, <a href="#about-directionconstants" class="ref">south</a>, <a href="#about-directionconstants" class="ref">east</a>, <a href="#about-directionconstants" class="ref">west</a>, <a href="#about-directionconstants" class="ref">up</a>, <a href="#about-directionconstants" class="ref">down</a>, <a href="#about-directionconstants" class="ref">left</a>, or <a href="#about-directionconstants" class="ref">right</a>.
			<pre>set hero direction(me,right) # face right</pre>
			
		</tt></p>
		<a name="about-setheroframe"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero frame(who, frame)</font></b><br>
			Sets the walking frame of the specified hero to 0 or 1.
			
			
		</tt></p>
		<a name="about-setheroposition"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero position (who, x, y)</font></b><br>
			Instantly moves the specified hero to an X,Y position on the map. The coordinates are in units of tiles. For pixel-positioning use the <a href="#about-puthero" class="ref">put hero</a> command.
			
			
		</tt></p>
		<a name="about-setheroz"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero z (who, z)</font></b><br>
			Sets the Z location of the specified hero. The Z location is the number of pixels above the tile they are standing on. Useful for scripts where you want a hero to jump or levitate.
			
			
		</tt></p>
		<a name="about-walkherotox"></a>
		<p>
		<tt>
		<b><font color="yellow">walk hero to x (who,x)</font></b><br>
			Makes the specified hero walk to a given X coordinate on the map
			
			
		</tt></p>
		<a name="about-walkherotoy"></a>
		<p>
		<tt>
		<b><font color="yellow">walk hero to y (who,x)</font></b><br>
			Makes the specified hero walk to a given Y coordinate on the map
			
			
		</tt></p>
		<a name="about-setherospeed"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero speed (who, speed)</font></b><br>
			Changes the walking speed of the specified hero. If you do not specify a speed, the hero's speed will return to the default, 4. Be careful with using speeds that do not divide evenly into 20, because tiles are 20 pixels in size, and an irregular walking speed may cause your hero to become misaligned with the tiles.
			
			
		</tt></p>
		<a name="about-usedoor"></a>
		<p>
		<tt>
		<b><font color="yellow">use door (number)</font></b><br>
			Instantly uses the numbered door, just as if you had stepped into it.
			
			
		</tt></p>
		<a name="about-teleporttomap"></a>
		<p>
		<tt>
		<b><font color="yellow">teleport to map (map, x, y)</font></b><br>
			An alternative to <a href="#about-usedoor" class="ref">use door</a>, teleport to map moves you to a given x,y position on the specified map without the need to create a door-link on the map. Teleport to map does not fade to black.
			
			
		</tt></p>
		<a name="about-dismountvehicle"></a>
		<p>
		<tt>
		<b><font color="yellow">dismount vehicle</font></b><br>
			Makes you dismount whatever vehicle you are riding. If you are not riding a vehicle, nothing will happen.
			
			
		</tt></p>
		<a name="about-heroiswalking"></a>
		<p>
		<tt>
		<b><font color="yellow">hero is walking (who)</font></b><br>
			Returns <a href="#about-booleanconstants" class="ref">true</a> if the specified hero (by position in the caterpillar) is currently walking. Returns <a href="#about-booleanconstants" class="ref">false</a> if the hero is standing still.
			
			
		</tt></p>
		<a name="about-puthero"></a>
		<p>
		<tt>
		<b><font color="yellow">put hero (who,x,y)</font></b><br>
			Moves a hero to a precise location on the map. The first argument is the her's position in the walkabout party. The second and third arguments are the X,Y pixel position relative to the top left corner of the map. Be aware that using this command can mis-align your hero with the tile-grid, preventing it from walking normally. To position the hero by tile, use the <a href="#about-setheroposition" class="ref">set hero position</a> command.
			
			
		</tt></p>
		
		<hr>
	
		<a name="Moving NPCs"></a>
		
		<font color="#f06060" size="4">Moving NPCs</font>
		<p></p>
		
		<a name="about-npcreference"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC reference (ID,copy)</font></b><br>
			What is an NPC reference? A reference is a number that uniquely identifies an NPC on a map. You can use an NPC reference to specify which NPC you are controlling in most NPC-related commands. The first argument to NPC reference is the ID number of the NPC you want to work with. The ID is the same number that appears in CUSTOM.EXE when you are editing NPCs or placing NPCs on the map. The second argument is optional. It specifies which copy of the NPC you want, in case there are more than one on the map. If you dont specify which copy you want, you will just get a reference to the first NPC on the map with the right ID. If you plan on using the same NPC reference many times in a script you can store it in a <a href="#about-variable" class="ref">variable</a>. If the NPC with the ID you asked for (or the NPC copy you asked for with ID you asked for) is not found on the map then NPC reference will return <a href="#about-booleanconstants" class="ref">false</a>.
			<pre>include,plotscr.hsd
define script(1,ref example,none)

#---NPC reference example---

script,ref example,begin

  variable(Fred)

  # find the first copy of NPC 10,
  # and store the reference in a variable
  set variable(Fred,NPC reference(10,0))

  # now we can manipulate that NPC with the variable
  walk NPC     (Fred,south,3)
  wait for NPC (Fred)

  # make the NPC spin!
  set NPC direction (Fred,east)
  wait(2)
  set NPC direction (Fred,north)
  wait(2)
  set NPC direction (Fred,west)
  wait(2)
  set NPC direction (Fred,south)
  wait(2)

end</pre>
			<br><br>See also: <ul class="seealso">
<li>
<a href="#about-npcatspot" class="ref">NPC at spot</a>, </li>
<li>
<a href="#about-npcatpixel" class="ref">NPC at pixel</a>, </li>
<li><a href="#about-createnpc" class="ref">create NPC</a></li>
</ul>
		</tt></p>
		<a name="about-npcatspot"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC at spot (x,y,number)</font></b><br>
			This command returns a reference to the NPC at the given X and Y coordinate on the map. The optional third argument lets you choose which NPC to reference in case there is more than one NPC standing on that same spot (starting from the bottom most NPC, which is number 0). You can also pass the constant <a href="#about-getcount" class="ref">get count</a> for the third argument to return the total number of npcs on that tile. Note that an NPC's tile is the tile its top left corner is on.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-npcreference" class="ref">NPC reference</a></li></ul>
		</tt></p>
		<a name="about-npcatpixel"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC at pixel (x,y,number)</font></b><br>
			This command returns a reference to the NPC at the given X and Y coordinate in pixels. That is, any npc whose 20x20 sprite (including transparent sections) is over that pixel. The optional third argument lets you choose which NPC to reference in case there is more than one NPC standing on that same spot (starting from the bottom-most NPC, which is number 0). You can also pass the constant <a href="#about-getcount" class="ref">get count</a> for the third argument to return the total number of npcs on that tile.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-npcreference" class="ref">NPC reference</a></li></ul>
		</tt></p>
		<a name="about-walknpc"></a>
		<p>
		<tt>
		<b><font color="yellow">walk NPC (who,direction,distance)</font></b><br>
			Makes the specified NPC move in the specified direction for the specified number of tiles. The first argument tells who to move. You can use an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number. The second argument is the direction. Use the constants: <a href="#about-directionconstants" class="ref">north</a>, <a href="#about-directionconstants" class="ref">south</a>, <a href="#about-directionconstants" class="ref">east</a>, <a href="#about-directionconstants" class="ref">west</a>, <a href="#about-directionconstants" class="ref">up</a>, <a href="#about-directionconstants" class="ref">down</a>, <a href="#about-directionconstants" class="ref">left</a>, or <a href="#about-directionconstants" class="ref">right</a>. The third argument is the number of tiles to move. If you leave out the third argument, the NPC will move one tile. walk NPC is usually used with the <a href="#about-waitfornpc" class="ref">wait for NPC</a> command. You should normally use the <a href="#about-suspendnpcs" class="ref">suspend NPCs</a> command before moving NPCs to prevent their automatic movements from interfering with your scripted movements.
			
			
		</tt></p>
		<a name="about-setnpcdirection"></a>
		<p>
		<tt>
		<b><font color="yellow">set NPC direction (who,direction)</font></b><br>
			Makes the specified NPC face in the specified direction. The following constants are avaialable for direction: <a href="#about-directionconstants" class="ref">north</a>, <a href="#about-directionconstants" class="ref">south</a>, <a href="#about-directionconstants" class="ref">east</a>, <a href="#about-directionconstants" class="ref">west</a>, <a href="#about-directionconstants" class="ref">up</a>, <a href="#about-directionconstants" class="ref">down</a>, <a href="#about-directionconstants" class="ref">left</a>, or <a href="#about-directionconstants" class="ref">right</a>. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number to specify which NPC will turn.
			
			
		</tt></p>
		<a name="about-setnpcframe"></a>
		<p>
		<tt>
		<b><font color="yellow">set NPC frame (who,frame)</font></b><br>
			Sets the walking frame of the specified NPC to 0 or 1. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number to specify which NPC will change.
			
			
		</tt></p>
		<a name="about-setnpcposition"></a>
		<p>
		<tt>
		<b><font color="yellow">set NPC position (who,X,Y)</font></b><br>
			Instantly moves the specified NPC to an X,Y position on the map. The coordinates are in units of tiles. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number to specify which NPC will be moved.
			
			
		</tt></p>
		<a name="about-walknpctox"></a>
		<p>
		<tt>
		<b><font color="yellow">walk NPC to X (who,X)</font></b><br>
			Makes the specified NPC walk to a given X coordinate on the map. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number to specify which NPC will move.
			
			
		</tt></p>
		<a name="about-walknpctoy"></a>
		<p>
		<tt>
		<b><font color="yellow">walk NPC to Y (who,Y)</font></b><br>
			Makes the specified NPC walk to a given Y coordinate on the map. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number to specify which NPC will move.
			
			
		</tt></p>
		<a name="about-setnpcspeed"></a>
		<p>
		<tt>
		<b><font color="yellow">set NPC speed (who,speed)</font></b><br>
			Changes the walking speed of the specified NPC. If you do not specify a speed, the NPC's speed will return to the default, 4. Be careful with using speeds that do not divide evenly into 20, because tiles are 20 pixels in size, and an irregular walking speed may cause the NPC to become misaligned with the tiles.<br>Normally you would only give an NPC ID number to set NPC speed, but if you want to use an <a href="#about-npcreference" class="ref">NPC reference</a> it will still work. Just remember that set NPC speed changes every copy of the NPC on the map, not just the specific one you referenced.
			
			
		</tt></p>
		<a name="about-npciswalking"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC is walking (who)</font></b><br>
			Returns <a href="#about-booleanconstants" class="ref">true</a> if the specified NPC is currently walking. Returns <a href="#about-booleanconstants" class="ref">false</a> if the NPC is standing still. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number to specify which NPC will be checked.
			
			
		</tt></p>
		<a name="about-getnpcid"></a>
		<p>
		<tt>
		<b><font color="yellow">get NPC ID (reference)</font></b><br>
			This command is the opposite of <a href="#about-npcreference" class="ref">NPC reference</a>. If you give get NPC ID a reference to an NPC it will return the NPC&amp;s ID.<br>(Note: in some older versions, This command was useful if you needed to do an <a href="#about-alternpc" class="ref">alter NPC</a> or a <a href="#about-setnpcspeed" class="ref">set NPC speed</a> on an NPC that you are working with by reference. This is no longer neccisary, because both those commands now support NPC references (although they still affect every copy of that NPC on the map))
			
			
		</tt></p>
		<a name="about-npccopycount"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC copy count (ID)</font></b><br>
			This command tells you how many copys of a particular NPC ID exist on the map. This can be very useful if you want apply the same action to each copy of an NPC on the map.
			<pre>include,plotscr.hsd
define script(1,every NPC example,none)

#---NPC copy count example---

script,every NPC example,begin

  variable(loop,guard count,current guard)

  # the guard is NPC 10, and there are many copies of him on the map
  set variable(guard count,NPC copy count(10))

  # this loop repeats once for each copy of NPC 10
  for(loop,0,guard count) do,begin

    set variable(current guard,NPC reference(10,loop))
    walk NPC(current guard,south,4)
    # if we added a "wait for NPC(current guard)" right here
    # then the guards would walk one t a time

  end

  # but we want them to all walk at the same time,
  # so we just wait here
  wait for all

end</pre>
			
		</tt></p>
		<a name="about-changenpcid"></a>
		<p>
		<tt>
		<b><font color="yellow">change NPC ID (reference,new ID)</font></b><br>
			This command takes an <a href="#about-npcreference" class="ref">NPC reference</a> and lets you change the ID number of the NPC it points to. This means that the NPC will now use a different picture, an different palette, a different walking speed, an different text box, everything. This change is not permanent. It only lasts until the next time a map gets loaded.
			
			
		</tt></p>
		<a name="about-createnpc"></a>
		<p>
		<tt>
		<b><font color="yellow">create NPC (ID,X,Y,direction)</font></b><br>
			This command will magically create a new copy of an NPC with the given ID number. You can specify an X and Y position where it will be created, and optionally a direction too (if you leave out the direction, the new NPC will be facing south). create NPC returns an <a href="#about-npcreference" class="ref">NPC reference</a> that you can use to refer to the new NPC in other commands like <a href="#about-walknpc" class="ref">walk NPC</a>. If the new NPC cannot be created (there is a maximum of 300 total NPC copies in memory at a time) then create NPC will return false (zero). The new NPC is not permanent. It only lasts until a new map is loaded.
			
			
		</tt></p>
		<a name="about-destroynpc"></a>
		<p>
		<tt>
		<b><font color="yellow">destroy NPC (reference)</font></b><br>
			This command will erase the specified NPC. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or the NPC's ID number. The deletion is not permanent. Unless this is an NPC that you created with <a href="#about-createnpc" class="ref">create NPC</a>, the NPC will be back again next time the map gets loaded. If you need to permanently remove an NPC, use tags. (Note: this only deletes the one NPC you specify. If you use an NPC ID number as the argument, only the first copy of the NPC on the map will be deleted)
			
			
		</tt></p>
		<a name="about-putnpc"></a>
		<p>
		<tt>
		<b><font color="yellow">put npc (who,x,y)</font></b><br>
			Moves an NPC to a precise location on the map. The first argument is and <a href="#about-npcreference" class="ref">NPC reference</a> or an NPC ID number. The second and third arguments are the X,Y pixel position relative to the top left corner of the map. Be aware that using this command can mis-align your NPC with the tile-grid, preventing it from walking normally. To position the NPC by tile, use the <a href="#about-setnpcposition" class="ref">set NPC position</a> command.
			
			
		</tt></p>
		
		<hr>
	
		<a name="Moving the Camera"></a>
		
		<font color="#f06060" size="4">Moving the Camera</font>
		<p></p>
		
		<a name="about-camerafollowshero"></a>
		<p>
		<tt>
		<b><font color="yellow">camera follows hero (who)</font></b><br>
			Normally, the camera follows your leader. With this command, you can make the camera follow any hero you want. If you leave out the argument, the camera will follow your leader as normal.
			
			
		</tt></p>
		<a name="about-camerafollowsnpc"></a>
		<p>
		<tt>
		<b><font color="yellow">camera follows NPC (who)</font></b><br>
			With this command, you can make the camera follow an NPC instead of the hero. If more than one copy of the specified NPC exists, the camera will follow the first one. To revert the camera to normal, use <a href="#about-camerafollowshero" class="ref">camera follows hero</a>.
			
			
		</tt></p>
		<a name="about-pancamera"></a>
		<p>
		<tt>
		<b><font color="yellow">pan camera (direction,distance,pixelstep)</font></b><br>
			This command causes the camera to stop following your leader and pan in the specified direction. For direction, you can use the constants: <a href="#about-directionconstants" class="ref">north</a>, <a href="#about-directionconstants" class="ref">south</a>, <a href="#about-directionconstants" class="ref">east</a>, <a href="#about-directionconstants" class="ref">west</a>, <a href="#about-directionconstants" class="ref">up</a>, <a href="#about-directionconstants" class="ref">down</a>, <a href="#about-directionconstants" class="ref">left</a>, or <a href="#about-directionconstants" class="ref">right</a>. The distance is the number of tiles you want the camera to move before it stops. You can also specify the number of pixels you want the camera to move for each tick. if you leave the last argument out, the camera will move by 2 pixels per tick. This command is normally used with <a href="#about-waitforcamera" class="ref">wait for camera</a>. To revert the camera to normal, use <a href="#about-camerafollowshero" class="ref">camera follows hero</a>.
			
			
		</tt></p>
		<a name="about-focuscamera"></a>
		<p>
		<tt>
		<b><font color="yellow">focus camera (x,y,speed)</font></b><br>
			This command causes the camera to focus itself on the specified X,Y coordinates of the map. These coordinates are in units of tiles. The third argument, the speed, tells how fast the camera will pan. If you do not specify a speed, the camera will pan 2 pixels per tick. This command is normally used with <a href="#about-waitforcamera" class="ref">wait for camera</a>. To revert the camera to normal, use <a href="#about-camerafollowshero" class="ref">camera follows hero</a>.
			
			
		</tt></p>
		<a name="about-putcamera"></a>
		<p>
		<tt>
		<b><font color="yellow">put camera (x,y)</font></b><br>
			This command causes the top left corner of the camera to instantly jump to the specified X,Y pixel coordinates of the map. These coordinates are in units of pixels, not tiles. To position the camera by tiles, just multiply the tile position by 20. To revert the camera to normal, use <a href="#about-camerafollowshero" class="ref">camera follows hero</a>.
			
			
		</tt></p>
		
		<hr>
	
		<a name="Text Boxes"></a>
		
		<font color="#f06060" size="4">Text Boxes</font>
		<p></p>
		
		<a name="about-showtextbox"></a>
		<p>
		<tt>
		<b><font color="yellow">show text box (number)</font></b><br>
			Displays the numbered text box, just as if you had talked to an NPC. The text box will not actually pop up until the next wait command. This command is most often used with the <a href="#about-waitfortextbox" class="ref">wait for text box</a> command.
			<pre>show text box(2) # Show a text box
wait for text box # wait until the player continues</pre>
			
		</tt></p>
		<a name="about-advancetextbox"></a>
		<p>
		<tt>
		<b><font color="yellow">advance text box</font></b><br>
			Advances a text box just as if the player had pressed a key. For use while <a href="#about-suspendboxadvance" class="ref">suspend box advance</a> is active.
			<pre>suspend box advance # stop players from mucking things up
show text box(2) # Show a text box
wait(45) # Wait about 3 seconds
advance text box # "hit spacebar"
resume box advance # go back to normal</pre>
			
		</tt></p>
		
		<hr>
	
		<a name="Triggering and Showing Stuff"></a>
		
		<font color="#f06060" size="4">Triggering and Showing Stuff</font>
		<p></p>
		
		<a name="about-fightformation"></a>
		<p>
		<tt>
		<b><font color="yellow">fight formation (number)</font></b><br>
			Starts a battle with the numbered enemy formation. This command returns <a href="#about-booleanconstants" class="ref">false</a> if you lost or ran from battle, or <a href="#about-booleanconstants" class="ref">true</a> if you won.
			
			
		</tt></p>
		<a name="about-usenpc"></a>
		<p>
		<tt>
		<b><font color="yellow">Use NPC (who)</font></b><br>
			Remotely trigger an NPC. You can use either an <a href="#about-npcreference" class="ref">NPC reference</a> or an NPC ID number. Whatever actions are associated with triggering that NPC will be taken, text box, script, vehicle, item, whatever.
			
			
		</tt></p>
		<a name="about-gameover"></a>
		<p>
		<tt>
		<b><font color="yellow">game over</font></b><br>
			Resets the game and returns you to the title screen. This command is most useful for after-you-win-the-game type scripts, and for death-scripts that are triggered when you lose in battle.
			
			
		</tt></p>
		<a name="about-showvalue"></a>
		<p>
		<tt>
		<b><font color="yellow">show value (number)</font></b><br>
			Displays the number in the bottom left corner of the screen. Useful for count-down timers, and for debugging complicated scripts.
			
			
		</tt></p>
		<a name="about-shownovalue"></a>
		<p>
		<tt>
		<b><font color="yellow">show no value</font></b><br>
			Gets rid of the number in the bottom left corner of the screen after a <a href="#about-showvalue" class="ref">show value</a> command.
			
			
		</tt></p>
		<a name="about-cancelmapnamedisplay"></a>
		<p>
		<tt>
		<b><font color="yellow">cancel map name display</font></b><br>
			If the map name is being displayed, this command makes it disappear. For example, this may be useful if you want the map name to appear when you enter a map normally, but not when you jump to the map for a plotscripted cutscene.
			
			
		</tt></p>
		<a name="about-showbackdrop"></a>
		<p>
		<tt>
		<b><font color="yellow">show backdrop (number)</font></b><br>
			displays the specified full screen backdrop on the screen. This allows you to show full screen pictures without attaching them to text boxes. You can also do some simple animation effects by calling show backdrop many times with <a href="#about-wait" class="ref">wait</a> commands in between.
			
			
		</tt></p>
		<a name="about-showmap"></a>
		<p>
		<tt>
		<b><font color="yellow">show map</font></b><br>
			shows the map again after a <a href="#about-showbackdrop" class="ref">show backdrop</a> command
			
			
		</tt></p>
		<a name="about-useshop"></a>
		<p>
		<tt>
		<b><font color="yellow">use shop (shop)</font></b><br>
			Takes you directly to a shop. You can specify the shop's ID number or its name in the form shop:name
			
			
		</tt></p>
		<a name="about-showminimap"></a>
		<p>
		<tt>
		<b><font color="yellow">show mini map</font></b><br>
			Displays the mini-map
			
			
		</tt></p>
		<a name="about-itemsmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">items menu</font></b><br>
			Takes you directly to the items menu. Note that if the player uses an item that calls up a text box, the items menu command will behave like a <a href="#about-showtextbox" class="ref">show text box</a> command for that text box.
			
			
		</tt></p>
		<a name="about-statusscreen"></a>
		<p>
		<tt>
		<b><font color="yellow">status screen (who)</font></b><br>
			Takes you directly to a hero's status screen. Specify the hero using its position in the party 0-3. Use <a href="#about-findhero" class="ref">find hero</a> if you want to specify the hero by name. The <a href="#about-pickhero" class="ref">pick hero</a> command can also be useful.
			
			
		</tt></p>
		<a name="about-spellsmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">spells menu (who)</font></b><br>
			Takes you directly to a hero's spells menu. Specify the hero using its position in the party 0-3. Use <a href="#about-findhero" class="ref">find hero</a> if you want to specify the hero by name. The <a href="#about-pickhero" class="ref">pick hero</a> command can also be useful.
			
			
		</tt></p>
		<a name="about-equipmenu"></a>
		<p>
		<tt>
		<b><font color="yellow">equip menu (who)</font></b><br>
			Takes you directly to a hero's equip menu. Specify the hero using its position in the party 0-3. Use <a href="#about-findhero" class="ref">find hero</a> if you want to specify the hero by name. The <a href="#about-pickhero" class="ref">pick hero</a> command can also be useful.
			
			
		</tt></p>
		<a name="about-savemenu"></a>
		<p>
		<tt>
		<b><font color="yellow">save menu (reallysave)</font></b><br>
			Takes you directly to the save menu. Will return a number 1-4 indicating the slot the player saved in, or <a href="#about-booleanconstants" class="ref">false</a> if the player did not save. You can optionally pass an argument of <a href="#about-booleanconstants" class="ref">false</a> to make the menu display without actually saving
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-autosave" class="ref">autosave</a></li></ul>
		</tt></p>
		<a name="about-ordermenu"></a>
		<p>
		<tt>
		<b><font color="yellow">order menu</font></b><br>
			Takes you directly to the order menu, where you can change the order of the heroes in your active party.
			
			
		</tt></p>
		<a name="about-teammenu"></a>
		<p>
		<tt>
		<b><font color="yellow">team menu</font></b><br>
			Takes you directly to the team menu, where you can change the order of the heroes in your active party, and swap heroes in and out of your reserve.
			
			
		</tt></p>
		
		<hr>
	
		<a name="Adding and Removing"></a>
		
		<font color="#f06060" size="4">Adding and Removing</font>
		<p></p>
		
		<a name="about-getmoney"></a>
		<p>
		<tt>
		<b><font color="yellow">get money (amount)</font></b><br>
			Adds the specified amount to your party's money
			
			
		</tt></p>
		<a name="about-losemoney"></a>
		<p>
		<tt>
		<b><font color="yellow">lose money (amount)</font></b><br>
			Subtracts the specified amount from your party's money.
			
			
		</tt></p>
		<a name="about-paymoney"></a>
		<p>
		<tt>
		<b><font color="yellow">pay money (amount)</font></b><br>
			A function that checks to see if you have enough money to pay the amount specified. If you do, it subtracts it, and returns <a href="#about-booleanconstants" class="ref">true</a>. If you do not have enough, it subtracts nothing, but returns <a href="#about-booleanconstants" class="ref">false</a>. Intended for use in <a href="#about-if" class="ref">if</a> statements.
			<pre>if(pay money(1000)) then, begin
	get item(item:uber sword)
end, else, begin
	show text box(61) # ha ha, no uber sword for you!
	wait for text box
end</pre>
			
		</tt></p>
		<a name="about-addhero"></a>
		<p>
		<tt>
		<b><font color="yellow">add hero (who)</font></b><br>
			Puts the named hero in your party. If there is no room, the hero will be added to your reserve. Use the constants defined in your HSI file. They are in the form of hero:name
			
			
		</tt></p>
		<a name="about-deletehero"></a>
		<p>
		<tt>
		<b><font color="yellow">delete hero (who)</font></b><br>
			Removes the named hero from your party. If you have more than one copy of the hero in your party, only the first one will be deleted. Use the constants defined in your HSI file. They are in the form of hero:name
			
			
		</tt></p>
		<a name="about-swapinhero"></a>
		<p>
		<tt>
		<b><font color="yellow">swap in hero (who)</font></b><br>
			Moves the named hero in your from your reserves to your active party. If there is no room in your active party, the hero will not be moved. Use the constants defined in your HSI file. They are in the form of hero:name
			
			
		</tt></p>
		<a name="about-swapouthero"></a>
		<p>
		<tt>
		<b><font color="yellow">swap out hero (who)</font></b><br>
			Moves the named hero from your active party into your reserve. Use the constants defined in your HSI file. They are in the form of hero:name
			
			
		</tt></p>
		<a name="about-lockhero"></a>
		<p>
		<tt>
		<b><font color="yellow">lock hero (who)</font></b><br>
			Locking a hero prevents the player from moving the hero on the party menu. Locked heros in the active party cannot be moved into the reserve, and locked heros in the reserve are completely hidden. Also prevents a hero from being moved by <a href="#about-swapinhero" class="ref">swap in hero</a> or <a href="#about-swapouthero" class="ref">swap out hero</a>. Use the constants defined in your HSI file. They are in the form of hero:name
			
			
		</tt></p>
		<a name="about-unlockhero"></a>
		<p>
		<tt>
		<b><font color="yellow">unlock hero (who)</font></b><br>
			Reverses <a href="#about-lockhero" class="ref">lock hero</a>, and makes it possible to move a hero in and out of the active party again. Use the constants defined in your HSI file. They are in the form of hero:name
			
			
		</tt></p>
		<a name="about-swapbyname"></a>
		<p>
		<tt>
		<b><font color="yellow">swap by name (name,name)</font></b><br>
			Swaps two named heros in your party no matter what position they are in. Use the names defined in your HSI file in the form hero:name
			
			
		</tt></p>
		<a name="about-swapbyposition"></a>
		<p>
		<tt>
		<b><font color="yellow">swap by position (position,position)</font></b><br>
			Swaps two heros in your party based on their positions in the party
			
			
		</tt></p>
		<a name="about-getitem"></a>
		<p>
		<tt>
		<b><font color="yellow">get item (item,number)</font></b><br>
			Adds the specified number of the specified item to your inventory. If you do not specify a number, only one will be added. You can refer to the item by number, or you can use the constants defined in your HSI file, which are in the form of item:name
			
			
		</tt></p>
		<a name="about-deleteitem"></a>
		<p>
		<tt>
		<b><font color="yellow">delete item (item,number)</font></b><br>
			Removes the specified number of the specified item from your inventory. If you do not specify a number, only one will be removed. You can refer to the item by number, or you can use the constants defined in your HSI file, which are in the form of item:name
			
			
		</tt></p>
		<a name="about-unequip"></a>
		<p>
		<tt>
		<b><font color="yellow">unequip (hero,slot)</font></b><br>
			Removes the item that the specified hero has equipped in the specified slot. The first argument is the position of the hero in your party, 0-3 for the active party, 4-40 for the reserve. (use <a href="#about-findhero" class="ref">find hero</a> if you want to refer to the hero by name). The second argument is the slot to unequip. Use the number 1-5 or the names slot:weapon, slot:armor, etc.
			
			
		</tt></p>
		<a name="about-forceequip"></a>
		<p>
		<tt>
		<b><font color="yellow">force equip (hero,slot,item)</font></b><br>
			Forces a hero to equip an item, even if it is not normally equipable. The first argument is the position of the hero in your party, 0-3 for the active party, 4-40 for the reserve. (use <a href="#about-findhero" class="ref">find hero</a> if you want to refer to the hero by name). The second argument is the slot to equip. Use the number 1-5 or the names slot:weapon, slot:armor, etc. The third argument is the item to equip. you can use the item's number or the item:name constants from your .HSI file.
			
			
		</tt></p>
		<a name="about-equipwhere"></a>
		<p>
		<tt>
		<b><font color="yellow">equip where (hero,item)</font></b><br>
			Returns the number of the slot that a hero can equip an item in, or false if the hero cannot equip it. The first argument is the position of the hero in your party, 0-3 for the active party, 4-40 for the reserve. (use <a href="#about-findhero" class="ref">find hero</a> if you want to refer to the hero by name). The second argument is the item to check the equipability of. you can use the item's number or the item:name constants from your .HSI file.
			
			
		</tt></p>
		<a name="about-checkequipment"></a>
		<p>
		<tt>
		<b><font color="yellow">check equipment (hero,slot)</font></b><br>
			eturns the number of the item that the specified hero has equipped in the specified slot, or -1 if there is nothing equipped there. The first argument is the position of the hero in your party, 0-3 for the active party, 4-40 for the reserve. (use <a href="#about-findhero" class="ref">find hero</a> if you want to refer to the hero by name). The second argument is the slot to unequip. Use the number 1-5 or the names slot:weapon, slot:armor, etc.
			
			
		</tt></p>
		<a name="about-getdefaultweapon"></a>
		<p>
		<tt>
		<b><font color="yellow">get default weapon (hero)</font></b><br>
			Returns the number of the item that the specified hero uses as a default weapon when no other weapon is equipped. The argument is the position of the hero in your party, 0-3 for the active party, 4-40 for the reserve. (use <a href="#about-findhero" class="ref">find hero</a> if you want to refer to the hero by name).
			
			
		</tt></p>
		<a name="about-setdefaultweapon"></a>
		<p>
		<tt>
		<b><font color="yellow">set default weapon (hero,item)</font></b><br>
			Changes the item that the specified hero uses as a default weapon when no other weapon is equipped. The first argument is the position of the hero in your party, 0-3 for the active party, 4-40 for the reserve. (use <a href="#about-findhero" class="ref">find hero</a> if you want to refer to the hero by name). The second argument is the item to use as the new default weapon. you can use the item's number or the item:name constants from your .HSI file.
			
			
		</tt></p>
		<a name="about-giveexperience"></a>
		<p>
		<tt>
		<b><font color="yellow">give experience (hero,amount)</font></b><br>
			Gives (or removes, but you can't drop level) experience to either a hero by position in party (use result returned by <a href="#about-findhero" class="ref">find hero</a> command) or the whole active party, if the constant <a href="#about-party" class="ref">party</a> is passed as first argument. If you give experience to the whole party, then it will be split amongst live heroes as it is in battle. This command can cause heroes to level up and learn spells but does not inform the player or trigger any effects. See <a href="#about-herolevelled" class="ref">hero levelled</a> and <a href="#about-spellslearnt" class="ref">spells learnt</a> for dealing with this.
			
			
		</tt></p>
		
		<hr>
	
		<a name="Effects"></a>
		
		<font color="#f06060" size="4">Effects</font>
		<p></p>
		
		<a name="about-playsong"></a>
		<p>
		<tt>
		<b><font color="yellow">play song (song)</font></b><br>
			Plays the specified song. Use the constants defined in your HSI file. They appear in the form of song:name
			
			
		</tt></p>
		<a name="about-currentsong"></a>
		<p>
		<tt>
		<b><font color="yellow">current song</font></b><br>
			Returns the number of the currently playing song.
			
			
		</tt></p>
		<a name="about-stopsong"></a>
		<p>
		<tt>
		<b><font color="yellow">stop song</font></b><br>
			Stops whatever music is currently playing.
			
			
		</tt></p>
		<a name="about-setvictorymusic"></a>
		<p>
		<tt>
		<b><font color="yellow">set victory music (song)</font></b><br>
			Changes the after-battle victory music to the specified song. Use the constants defined in your HSI file. They appear in the form of song:name
			
			
		</tt></p>
		<a name="about-setambientmusic"></a>
		<p>
		<tt>
		<b><font color="yellow">set ambient music (song)</font></b><br>
			Plays a song and sets it as the map's ambient music, that is the song that is played after a textbox with 'restore music' set. The effect goes away if you change maps or fight a battle. Calling set ambient music with no argument stops the music and disables the ambient music.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-playsong" class="ref">play song</a></li></ul>
		</tt></p>
		<a name="about-getambientmusic"></a>
		<p>
		<tt>
		<b><font color="yellow">get ambient music</font></b><br>
			Returns the song number of the map's ambient music.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-currentsong" class="ref">current song</a></li></ul>
		</tt></p>
		<a name="about-setmusicvolume"></a>
		<p>
		<tt>
		<b><font color="yellow">set music volume (volume)</font></b><br>
			Sets the volume at which music is played, volume being a number on the scale of 0 to 255, 0 being silent, 255 loudest. If you want to manipulate the sound (e.g. fading out the music) you should take note of the original vulume that the player has set and return to this. By default volume is not maximum, so you should not hardcode fades to begin at volume 255. NOTE: the actual resolution at which the volume is set is not necessarily 1/255th of full volume but depends on your implementation. Currently vanilla OHR uses only 0-15 internally, so 240-255 all translate to the same volume.
			
			
		</tt></p>
		<a name="about-getmusicvolume"></a>
		<p>
		<tt>
		<b><font color="yellow">get music volume</font></b><br>
			Returns the volume at which music is played, on a scale of 0 to 15, 0 being silent, 255 loudest.
			
			
		</tt></p>
		<a name="about-fadescreenout"></a>
		<p>
		<tt>
		<b><font color="yellow">fade screen out (red,green,blue)</font></b><br>
			Fades the screen to a solid color. If you do not specify any arguments, the screen will fade to black. The red, green, blue values are numbers from 0 to 63 that tell how bright that particular color should be. (63,0,0) would be blood red. (40,0,40) would be purple. (63,63,63) would be bright white. The screen will remain faded out until you run <a href="#about-fadescreenin" class="ref">fade screen in</a>, fight a battle, or use a door.
			
			
		</tt></p>
		<a name="about-fadescreenin"></a>
		<p>
		<tt>
		<b><font color="yellow">fade screen in</font></b><br>
			Fades the screen back to normal after a <a href="#about-fadescreenout" class="ref">fade screen out</a> command, or applies the changes made with other palette commands such as <a href="#about-greyscalepalette" class="ref">greyscale palette</a>, <a href="#about-tweakpalette" class="ref">tweak palette</a>, <a href="#about-resetpalette" class="ref">reset palette</a>, and <a href="#about-writecolor" class="ref">write color</a>.
			
			
		</tt></p>
		<a name="about-updatepalette"></a>
		<p>
		<tt>
		<b><font color="yellow">update palette</font></b><br>
			Instantly returns from fade screen out, and applies changes made by other palette command such as <a href="#about-greyscalepalette" class="ref">greyscale palette</a>, <a href="#about-tweakpalette" class="ref">tweak palette</a>, <a href="#about-resetpalette" class="ref">reset palette</a>, and <a href="#about-writecolor" class="ref">write color</a>.
			
			
		</tt></p>
		<a name="about-greyscalepalette"></a>
		<p>
		<tt>
		<b><font color="yellow">greyscale palette (first,last)</font></b><br>
			converts a section of the master palette from color to greyscale. The two arguments determine what range of colors will be affected. If called with no arguments, the entire palette is affected. Changes do not take effect until you call <a href="#about-updatepalette" class="ref">update palette</a> or <a href="#about-fadescreenin" class="ref">fade screen in</a>. Changes to the master palette last as long as you are playing, but are not stored in saved-games. If you need to make master-palette changes persist in saved-games you will have to use the on-load plotscript trigger.
			
			
		</tt></p>
		<a name="about-tweakpalette"></a>
		<p>
		<tt>
		<b><font color="yellow">tweak palette (red, green ,blue ,first,last)</font></b><br>
			Color-adjusts a section of the master palette. The first three arguments are the changes to make to the red, green, and blue values of each palette color. For example, tweak palette (20,-30,0) would redden everything, and drop out most of the green. The last two arguments determine what range of colors will be affected. If they are left out, the entire palette is affected. Changes do not take effect until you call <a href="#about-updatepalette" class="ref">update palette</a> or <a href="#about-fadescreenin" class="ref">fade screen in</a>. Changes to the master palette last as long as you are playing, but are not stored in saved-games. If you need to make master-palette changes persist in saved-games you will have to use the on-load plotscript trigger.
			
			
		</tt></p>
		<a name="about-resetpalette"></a>
		<p>
		<tt>
		<b><font color="yellow">reset palette</font></b><br>
			Reloads the default palette, undoing any changes you have made with other palette-altering commands such as <a href="#about-tweakpalette" class="ref">tweak palette</a> or <a href="#about-greyscalepalette" class="ref">greyscale palette</a> Changes do not take effect until you call <a href="#about-updatepalette" class="ref">update palette</a> or <a href="#about-fadescreenin" class="ref">fade screen in</a>
			
			
		</tt></p>
		<a name="about-readcolor"></a>
		<p>
		<tt>
		<b><font color="yellow">read color (index,element)</font></b><br>
			Returns a color value from the master palette. The first argument is the index in the palette to read from, 0 to 255. The second argument is the color value to read, red, green, or blue. You can use 0,1, and 2, or you can use the predefined constants <a href="#about-colorconstants" class="ref">color:red</a>, <a href="#about-colorconstants" class="ref">color:green</a>, and <a href="#about-colorconstants" class="ref">color:blue</a>. The counterpart to this is <a href="#about-writecolor" class="ref">write color</a>.
			
			
		</tt></p>
		<a name="about-writecolor"></a>
		<p>
		<tt>
		<b><font color="yellow">write color (index,element,value)</font></b><br>
			Writes a color value into the master palette. The first argument is the index in the palette to write to, 0 to 255. The second argument is the color value to write, red, green, or blue. You can use 0,1, and 2, or you can use the predefined constants <a href="#about-colorconstants" class="ref">color:red</a>, <a href="#about-colorconstants" class="ref">color:green</a>, and <a href="#about-colorconstants" class="ref">color:blue</a>. The third argument is the color value to write. It can be in the range of 0 to 63. Changes do not take effect until you call <a href="#about-updatepalette" class="ref">update palette</a> or <a href="#about-fadescreenin" class="ref">fade screen in</a> The counterpart to this is <a href="#about-readcolor" class="ref">read color</a>. Changes to the master palette last as long as you are playing, but are not stored in saved-games. If you need to make master-palette changes persist in saved-games you will have to use the on-load plotscript trigger.
			
			
		</tt></p>
		
		<hr>
	
		<a name="Hero's Spells"></a>
		
		<font color="#f06060" size="4">Hero's Spells</font>
		<p></p>
		
		<a name="about-teachspell"></a>
		<p>
		<tt>
		<b><font color="yellow">teach spell (hero,attack)</font></b><br>
			Tries to teach a hero a spell. The first argument is the hero's position in the party (as returned by <a href="#about-findhero" class="ref">find hero</a>). The second argument is the attack to learn. You can use the names defined in your .HSI file in the form atk:attackname (You may also use the attack's ID number. This is the number you see in the attack editor + 1). If the hero is capable of learning the spell, teach spell will return <a href="#about-booleanconstants" class="ref">true</a>, or if the hero cannot learn the spell it will return <a href="#about-booleanconstants" class="ref">false</a>. Note that this only works when a spell is set to "learned from item". It will not work for spells learned based on level.
			
			
		</tt></p>
		<a name="about-forgetspell"></a>
		<p>
		<tt>
		<b><font color="yellow">forget spell (hero,attack)</font></b><br>
			Causes a hero to forget a spell. The first argument is the hero's position in the party (as returned by <a href="#about-findhero" class="ref">find hero</a>). The second argument is the attack to forget. You can use the names defined in your .HSI file in the form atk:attackname (You may also use the attack's ID number. This is the number you see in the attack editor + 1). If the hero does not know the spell, nothing happens.
			
			
		</tt></p>
		<a name="about-readspell"></a>
		<p>
		<tt>
		<b><font color="yellow">read spell (hero,list,slot)</font></b><br>
			Returns the ID number of a chosen spell slot, or 0 (<a href="#about-booleanconstants" class="ref">false</a>) if there is no spell in that slot. The first argument is the hero's position in the party (as returned by <a href="#about-findhero" class="ref">find hero</a>). The second argument is the number of the spell list to check. This is a value from 0 to 3. The third argument is the slot to check. This is a number from 0 to 23. Spell slots are numbered in rows, so the first row is 0,1,2 the second row is 3,4,5, and so-on.
			
			
		</tt></p>
		<a name="about-writespell"></a>
		<p>
		<tt>
		<b><font color="yellow">write spell (hero,list,slot,attack)</font></b><br>
			Forces a hero to learn a particular spell. The first argument is the hero's position in the party (as returned by find hero). The second argument is the spell list to put the spell in. This is a number from 0 to 3. The third argument is the slot to put the spell in. This is a number from 0 to 23. Spell slots are numbered in rows, so the first row is 0,1,2 the second row is 3,4,5, and so-on. The last argument is the attack to put in the spell list. You can use the names defined in your .HSI file in the form atk:attackname (You may also use the attack's ID number. This is the number you see in the attack editor + 1). You can also erase a spell by writing 0 or <a href="#about-none" class="ref">none</a> as the attack ID. Note that this command will overwrite and replace any spell that is already in that slot. If you overwrite a slot that can normally learn another spell, you will never learn that other spell (unless you first erase the spell you wrote there)
			
			
		</tt></p>
		<a name="about-knowsspell"></a>
		<p>
		<tt>
		<b><font color="yellow">knows spell (hero,attack)</font></b><br>
			Checks to see if a hero already knows a spell. The first argument is the hero's position in the party (as returned by <a href="#about-findhero" class="ref">find hero</a>). The second argument is the attack to check for. You can use the names defined in your .HSI file in the form atk:attackname (You may also use the attack's ID number. This is the number you see in the attack editor + 1). If the hero knows the spell, knows spell will return <a href="#about-booleanconstants" class="ref">true</a>. If the hero does not know the spell, it will return <a href="#about-booleanconstants" class="ref">false</a>
			
			
		</tt></p>
		<a name="about-canlearnspell"></a>
		<p>
		<tt>
		<b><font color="yellow">can learn spell (hero,attack)</font></b><br>
			Checks to see if a hero is capable of learning a spell from an item or from the teach spell command. The first argument is the hero's position in the party (as returned by <a href="#about-findhero" class="ref">find hero</a>). The second argument is the attack to check for. You can use the names defined in your .HSI file in the form atk:attackname (You may also use the attack's ID number. This is the number you see in the attack editor + 1). If the hero can learn the spell, can learn spell will return <a href="#about-booleanconstants" class="ref">true</a>. If the hero cannot learn the spell (or learns it from levelups), it will return <a href="#about-booleanconstants" class="ref">false</a>
			
			
		</tt></p>
		<a name="about-spellslearnt"></a>
		<p>
		<tt>
		<b><font color="yellow">spells learnt (hero,number)</font></b><br>
			Used to return the id numbers of spells the hero learnt from the last battle or <a href="#about-giveexperience" class="ref">give experience</a> or <a href="#about-setherolevel" class="ref">set hero level</a> command. (Returns only the spells learnt from the very last battle or <a href="#about-giveexperience" class="ref">give experience</a>/<a href="#about-setherolevel" class="ref">set hero level</a> command). If the second argument is <a href="#about-getcount" class="ref">get count</a> then the number of spells that the hero learnt is returned. Pass 0 for number to get the first spell learnt, 1 the second, etc. You can use a loop and strings to list to the player all the spells a hero learnt:
			<pre>define script (autonumber, print learnt spells, 1, 0)
# the following script uses strings 0, 1, 2 for its use (will be overwritten)
script, print learnt spells, who, begin
  variable(i)
  get hero name (1, who) # construct the static part of the text in string 1
  $1+" learnt spell "
  for (i, 0, spells learnt (who, get count) -- 1) do (
    get attack name (2, spells learnt (who, i))  # get the i-th spell learnt
    0 $= 1  # copy the static part to the displayed string
    0 $+ 2  # combine with the spell name
    show string at (0, 160, 100)
    wait for keypress (anykey)
  )
  hide string (0)
end</pre>
			
		</tt></p>
		
		<hr>
	
		<a name="Mouse Functions"></a>
		
		<font color="#f06060" size="4">Mouse Functions</font>
		<p></p>
		
		<a name="about-initmouse"></a>
		<p>
		<tt>
		<b><font color="yellow">init mouse</font></b><br>
			Initializes the mouse, returning <a href="#about-booleanconstants" class="ref">true</a> if one is present, and loads the mouse driver. This command much be run before any mouse functions can be used. Therefore, it is a good idea to place this command in the newgame and loadgame scripts if you are going to use the mouse.<br>The mouse will start in the middle of the screen with bounds of 0-319 horizontally and 0-199 vertically. The bounds can be changed with <a href="#about-mouseregion" class="ref">mouse region</a>, and you can reposition the mouse with <a href="#about-putmouse" class="ref">put mouse</a>.<br>NOTE: Running this command does not draw a cursor on screen - your script must do this itself by placing an npc at the appropriate location. Here is an example:
			<pre>include,plotscr.hsd
define script(1,displaymouse,none)

#Mouse cursor example

script, display mouse, begin

  #start up the mouse
  init mouse

  #loop while the game is running
  while (true) do,begin

    #NPC 0 is the mouse cursor
    put npc (0, mouse pixel x + camera pixel x, mouse pixel y + camera pixel y)
    wait
  end
end</pre>
			
		</tt></p>
		<a name="about-mousepixelx"></a>
		<p>
		<tt>
		<b><font color="yellow">mouse pixel X</font></b><br>
			Returns the X coordinate in pixels of the mouse on the screen. <a href="#about-initmouse" class="ref">init mouse</a> must be called before this command can be used.
			
			
		</tt></p>
		<a name="about-mousepixely"></a>
		<p>
		<tt>
		<b><font color="yellow">mouse pixel Y</font></b><br>
			Returns the Y coordinate in pixels of the mouse on the screen. <a href="#about-initmouse" class="ref">init mouse</a> must be called before this command can be used.
			
			
		</tt></p>
		<a name="about-mousebutton"></a>
		<p>
		<tt>
		<b><font color="yellow">mouse button (which)</font></b><br>
			Returns <a href="#about-booleanconstants" class="ref">true</a> if the specified mouse button is pressed. You can use the constants <a href="#about-mouseconstants" class="ref">left button</a> and <a href="#about-mouseconstants" class="ref">right button</a> to specify the button. <a href="#about-initmouse" class="ref">init mouse</a> must be called before this command can be used.
			
			
		</tt></p>
		<a name="about-putmouse"></a>
		<p>
		<tt>
		<b><font color="yellow">put mouse (X,Y)</font></b><br>
			Changes the location of the mouse on the screen, in pixels. <a href="#about-initmouse" class="ref">init mouse</a> must be called before this command can be used.
			
			
		</tt></p>
		<a name="about-mouseregion"></a>
		<p>
		<tt>
		<b><font color="yellow">mouse region (x min, x max, y min, y max)</font></b><br>
			Sets the edges of the rectangle to which the mouse is constricted. Use if you want to force the mouse into some region, like a choice selection box. <a href="#about-initmouse" class="ref">init mouse</a> must be called before this command can be used.
			
			
		</tt></p>
		
		<hr>
	
		<a name="String Functions"></a>
		
		<font color="#f06060" size="4">String Functions</font>
		<p>When refering to a position in a string, <span class="param">position</span> is a 1-based index into the string, not a 0-based index. For example, given a string "ABCDEFG", position=3 is "C", not "D". This is because the string commands are based on BASIC string commands, which are 1-based. This also means that position 0 is invalid. Beware!<br>Also note that a string cannot exceed 40 characters. If it does, it will be truncated to 40 characters.</p>
		
		<a name="about-showstring"></a>
		<p>
		<tt>
		<b><font color="yellow">show string (ID)</font></b><br>
			Displays string #ID in the bottom left corner of the screen, as with the <a href="#about-showvalue" class="ref">show value</a> command. Use <a href="#about-shownovalue" class="ref">show no value</a> to remove the string from the screen. Note that this command displays the value of the string at the moment the command was run. Later changes to the value of the string will not appear unless you run show string again. If you need real-time display of changes to a string, use <a href="#about-showstringat" class="ref">show string at</a> or <a href="#about-centerstringat" class="ref">center string at</a> instead.
			
			<br><br>See also: <ul class="seealso">
<li>
<a href="#about-showvalue" class="ref">show value</a>, </li>
<li>
<a href="#about-shownovalue" class="ref">show no value</a>, </li>
<li>
<a href="#about-showstringat" class="ref">show string at</a>, </li>
<li><a href="#about-centerstringat" class="ref">center string at</a></li>
</ul>
		</tt></p>
		<a name="about-clearstring"></a>
		<p>
		<tt>
		<b><font color="yellow">clear string(ID)</font></b><br>
			Erases the string buffer #ID to the empty string (""). That's all.
			
			
		</tt></p>
		<a name="about-appendascii"></a>
		<p>
		<tt>
		<b><font color="yellow">append ascii (ID, char)</font></b><br>
			Appends the character with ascii code 'ascii' to the string with ID #ID. Remember: Numbers are 48 - 57, uppercase letters are 65 - 90, lowercase letters are 97 - 122.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-appendnumber" class="ref">append number</a></li></ul>
		</tt></p>
		<a name="about-appendnumber"></a>
		<p>
		<tt>
		<b><font color="yellow">append number (ID, number)</font></b><br>
			Appends the textual representation of <span class="param">number</span> to the string with ID #<span class="param">ID</span>. For example, append number(1,65) will append "65", not "A".
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-appendnumber" class="ref">append number</a></li></ul>
		</tt></p>
		<a name="about-copystring"></a>
		<p>
		<tt>
		<b><font color="yellow">copy string (dest, source)</font></b><br>
			Copies the text from string #<span class="param">source</span> to string #<span class="param">dest</span>, overwriting the existing string completely. <br>If you prefer, you can write <span class="param">dest $= source</span> instead. You must supply string id numbers, not strings, as arguments.
			
			
		</tt></p>
		<a name="about-concatenatestrings"></a>
		<p>
		<tt>
		<b><font color="yellow">concatenate strings (dest, source)</font></b><br>
			Copies the text from string #<span class="param">source</span> to string #<span class="param">dest</span>. However, unlike <a href="#about-copystring" class="ref">copy string</a>, the text is appended to the end of <span class="param">dest</span>. The resulting string is then trimmed to the limit of 40 characters. <br>If you prefer, you can write <span class="param">dest $+ source</span> instead. You must supply string id numbers, not strings, as arguments.
			
			
		</tt></p>
		<a name="about-stringlength"></a>
		<p>
		<tt>
		<b><font color="yellow">string length (ID)</font></b><br>
			Returns the length of string #<span class="param">ID</span>.
			
			
		</tt></p>
		<a name="about-stringcompare"></a>
		<p>
		<tt>
		<b><font color="yellow">string compare (ID1, ID2)</font></b><br>
			Returns true if the two strings #<span class="param">ID1</span> and #<span class="param">ID2</span> are identical, case sensitive.
			
			
		</tt></p>
		<a name="about-replacechar"></a>
		<p>
		<tt>
		<b><font color="yellow">replace char (ID, position, char)</font></b><br>
			Replaces the character at <span class="param">position</span> in string #<span class="param">ID</span> with a character with ascii code <span class="param">char</span>.
			
			
		</tt></p>
		<a name="about-deletechar"></a>
		<p>
		<tt>
		<b><font color="yellow">delete char (ID, position)</font></b><br>
			This deletes the character at <span class="param">postion</span> in string #<span class="param">ID</span>, causing all the following characters to move over a slot.
			
			
		</tt></p>
		<a name="about-asciifromstring"></a>
		<p>
		<tt>
		<b><font color="yellow">ascii from string (ID, position)</font></b><br>
			Returns the ascii code of the character at <span class="param">position</span> in string #<span class="param">ID</span>.
			
			
		</tt></p>
		<a name="about-stringtoglobals"></a>
		<p>
		<tt>
		<b><font color="yellow">string to globals (ID, starting global, length)</font></b><br>
			This command will fill global variables (starting with #<span class="param">starting global</span>), up to <span class="param">length</span> globals, with the ascii values of the characters in string #<span class="param">ID</span>. Don"t ask us why you would want to, but I"m sure there"s a use (encryption?)
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-globalstostring" class="ref">globals to string</a></li></ul>
		</tt></p>
		<a name="about-globalstostring"></a>
		<p>
		<tt>
		<b><font color="yellow">globals to string(ID, starting global, length)</font></b><br>
			This command is the opposite of <a href="#about-stringtoglobals" class="ref">string to globals</a>. It will build a new string in slot #<span class="param">ID</span>, using the ascii values from the global variables #<span class="param">starting global</span> and <span class="param">length</span> globals thereafter. If a global has a value greater than 255, the value will be ignored.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-stringtoglobals" class="ref">string to globals</a></li></ul>
		</tt></p>
		<a name="about-getheroname"></a>
		<p>
		<tt>
		<b><font color="yellow">get hero name (ID, hero)</font></b><br>
			This command will take the name of hero #<span class="param">hero</span>, and stick it in string #<span class="param">ID</span>, overwriting its contents.
			
			
		</tt></p>
		<a name="about-setheroname"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero name (ID, hero)</font></b><br>
			This command will take string #<span class="param">ID</span>, and set hero #<span class="param">hero</span>'s name to it.
			
			
		</tt></p>
		<a name="about-getitemname"></a>
		<p>
		<tt>
		<b><font color="yellow">get item name (ID, item)</font></b><br>
			This command will take the name of item #<span class="param">item</span> and stick it in string #<span class="param">ID</span>, overwriting its contents. This can be useful for "You got &lt;item&gt;!" type messages.
			
			
		</tt></p>
		<a name="about-getmapname"></a>
		<p>
		<tt>
		<b><font color="yellow">get map name (ID, map)</font></b><br>
			This command will take the name of map #<span class="param">map</span> and stick it in string #<span class="param">ID</span>, overwriting its contents.
			
			
		</tt></p>
		<a name="about-getattackname"></a>
		<p>
		<tt>
		<b><font color="yellow">get attack name (ID, attack)</font></b><br>
			This command will take the name of attack #<span class="param">attack</span> and stick it in string #<span class="param">ID</span>, overwriting its contents.
			
			
		</tt></p>
		<a name="about-getglobalstring"></a>
		<p>
		<tt>
		<b><font color="yellow">get global string (ID, global)</font></b><br>
			This command will take the name of global string #<span class="param">global</span> and stick it in string #<span class="param">ID</span>, overwriting its contents. Global strings include every text string in the game, such as prompts and messages. See a the Global String Editor in CUSTOM for a list of all of them. Due to the way global strings are stored internally, not all values of #<span class="param">global</span> will produce valid results. 
			
			
		</tt></p>
		<a name="about-inputstring"></a>
		<p>
		<tt>
		<b><font color="yellow">input string (ID, maxlength, use current, center, position x, position y)</font></b><br>
			Allows the player to type in a string. Returns false if they press ESC to cancel. All arguments are optional: <span class="param">ID</span> is the string you want to use, default is string #1. <span class="param">maxlen</span> is the length of input, if left blank the limit will be the limit of the string, which is 40. <span class="param">use current</span> is whether you want to add to the existing string, or clear the string before typing. Default is clear the string before typing, valid arguments are <a href="#about-booleanconstants" class="ref">true</a> or <a href="#about-booleanconstants" class="ref">false</a>. <span class="param">center</span> centers the string input at position x/y. If left blank the string will use its current positioning. Otherwise, valid arguments are <a href="#about-booleanconstants" class="ref">true</a> or <a href="#about-booleanconstants" class="ref">false</a>. If the string is not visible, then it will automatically be placed onscreen (centered if not specified) and hidden when done. <span class="param">position x</span> and <span class="param">position y</span> are optional, and are the position at which the string will be shown as it is being typed. The default values are 160,110.
			
			
		</tt></p>
		<a name="about-showstringat"></a>
		<p>
		<tt>
		<b><font color="yellow">show string at (ID, x, y)</font></b><br>
			Displays string #<span class="param">ID</span> on the screen, positioning its top left corner at the given (<span class="param">x</span>,<span class="param">y</span>) coordinates. Unlike <a href="#about-showstring" class="ref">show string</a>, changes to the string will be displayed in real-time.
			
			
		</tt></p>
		<a name="about-centerstringat"></a>
		<p>
		<tt>
		<b><font color="yellow">center string at (ID, x, y)</font></b><br>
			Displays string #<span class="param">ID</span> on the screen, positioning its top-middle at the given (<span class="param">x</span>,<span class="param">y</span>) coordinates. Unlike <a href="#about-showstring" class="ref">show string</a>, changes to the string will be displayed in real-time.
			
			
		</tt></p>
		<a name="about-hidestring"></a>
		<p>
		<tt>
		<b><font color="yellow">hide string (ID)</font></b><br>
			Makes a string previously displayed with <a href="#about-showstringat" class="ref">show string at</a> or <a href="#about-centerstringat" class="ref">center string at</a> disappear. Has no effect on strings displayed with <a href="#about-showstring" class="ref">show string</a>
			
			
		</tt></p>
		<a name="about-stringstyle"></a>
		<p>
		<tt>
		<b><font color="yellow">string style (ID, style)</font></b><br>
			Changes the appearance of a string previously displayed with <a href="#about-showstringat" class="ref">show string at</a> or <a href="#about-centerstringat" class="ref">center string at</a>. Choice of <span class="param">style</span> is string:outline and string:flat. string:outline is the style of string you are familiar with in textboxes: they are outlined with colour 0 (black). string:flat have not outline but can have a solid background of any colour behind the string.
			
			
		</tt></p>
		<a name="about-stringcolor"></a>
		<p>
		<tt>
		<b><font color="yellow">string color (ID, foreground color, background color)</font></b><br>
			Changes the color of a string previously displayed with <a href="#about-showstringat" class="ref">show string at</a> or <a href="#about-centerstringat" class="ref">center string at</a>. Foreground color is the colour of the text itself. Background color has no meaning for style:outline strings (the outline is always black). For style:flat strings, it is the color of the solid background if 1 to 255, or causes no background if 0. If you ommit <span class="param">background color</span>, the background will be transparent.
			
			
		</tt></p>
		<a name="about-positionstring"></a>
		<p>
		<tt>
		<b><font color="yellow">positionstring (ID, x, y)</font></b><br>
			Positions the top left corner of string #<span class="param">ID</span> at the given <span class="param">x</span>,<span class="param">y</span> coordinates. Unlike <a href="#about-showstringat" class="ref">show string at</a>, this command will not affect the visibility of a string.
			
			
		</tt></p>
		<a name="about-stringx"></a>
		<p>
		<tt>
		<b><font color="yellow">string X (ID)</font></b><br>
			Returns the horizontal X position of the top left corner of string #<span class="param">ID</span>
			
			
		</tt></p>
		<a name="about-stringy"></a>
		<p>
		<tt>
		<b><font color="yellow">string Y (ID)</font></b><br>
			Returns the vertical Y position of the top left corner of string #<span class="param">ID</span>
			
			
		</tt></p>
		<a name="about-getsongname"></a>
		<p>
		<tt>
		<b><font color="yellow">get song name (ID, song)</font></b><br>
			Gets the name of song #<span class="param">song</span> and puts it in string #<span class="param">ID</span>.
			
			
		</tt></p>
		
		<hr>
	
		<a name="Misc Functions"></a>
		
		<font color="#f06060" size="4">Misc Functions</font>
		<p></p>
		
		<a name="about-random"></a>
		<p>
		<tt>
		<b><font color="yellow">random (lownumber, highnumber)</font></b><br>
			Returns a random number in the range of the two numbers. The returned value will be greater than or equal to the first number, and less than or equal to the second number
			
			
		</tt></p>
		<a name="about-inventory"></a>
		<p>
		<tt>
		<b><font color="yellow">inventory (item)</font></b><br>
			Returns a count of how many of the specified item are in your inventory. If you do not have the item, it returns <a href="#about-numericconstants" class="ref">zero</a> or <a href="#about-booleanconstants" class="ref">false</a>. You can refer to the item by number, or you can use the constants defined in your HSI file, which are in the form of item:name
			
			
		</tt></p>
		<a name="about-leader"></a>
		<p>
		<tt>
		<b><font color="yellow">leader</font></b><br>
			Returns the hero number of the current leader
			
			
		</tt></p>
		<a name="about-herox"></a>
		<p>
		<tt>
		<b><font color="yellow">hero X (who)</font></b><br>
			Returns the specified hero's X position in tiles. Note that a hero's tile is the tile its top left corner is on.
			
			
		</tt></p>
		<a name="about-heroy"></a>
		<p>
		<tt>
		<b><font color="yellow">hero Y (who)</font></b><br>
			Returns the specified hero's Y position in tiles. Note that a hero's tile is the tile its top left corner is on.
			
			
		</tt></p>
		<a name="about-npcx"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC X (who)</font></b><br>
			Returns the specified NPC's X position in tiles. Note that an NPC's tile is the tile its top left corner is on.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-npcatspot" class="ref">NPC at spot</a></li></ul>
		</tt></p>
		<a name="about-npcy"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC Y (who)</font></b><br>
			Returns the specified NPC's Y position in tiles. Note that an NPC's tile is the tile its top left corner is on.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-npcatspot" class="ref">NPC at spot</a></li></ul>
		</tt></p>
		<a name="about-herodirection"></a>
		<p>
		<tt>
		<b><font color="yellow">hero direction (who)</font></b><br>
			Returns the specified hero's direction.
			
			
		</tt></p>
		<a name="about-npcdirection"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC direction (who)</font></b><br>
			Returns the specified NPC's direction.
			
			
		</tt></p>
		<a name="about-roominactiveparty"></a>
		<p>
		<tt>
		<b><font color="yellow">room in active party</font></b><br>
			A function that returns the number of available spaces in your active party. It will return <a href="#about-numericconstants" class="ref">zero</a> or <a href="#about-booleanconstants" class="ref">false</a> if there is no room.
			
			
		</tt></p>
		<a name="about-currentmap"></a>
		<p>
		<tt>
		<b><font color="yellow">current map</font></b><br>
			Returns the number of the current map.
			
			
		</tt></p>
		<a name="about-mapwidth"></a>
		<p>
		<tt>
		<b><font color="yellow">map width</font></b><br>
			Returns the width of the map in tiles.
			
			
		</tt></p>
		<a name="about-mapheight"></a>
		<p>
		<tt>
		<b><font color="yellow">map height</font></b><br>
			Returns the height of the map in tiles.
			
			
		</tt></p>
		<a name="about-getmaptileset"></a>
		<p>
		<tt>
		<b><font color="yellow">get map tileset</font></b><br>
			Returns the ID number of the default tileset for the map. <a href="#about-loadtileset" class="ref">load tileset</a> does NOT affect the value returned by this function.
			
			
		</tt></p>
		<a name="about-daysofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">days of play</font></b><br>
			Returns the number of days that the game has been played
			
			
		</tt></p>
		<a name="about-setdaysofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">set days of play (days)</font></b><br>
			Sets the number of days that the game has been "played" to <span class="param">days</span>, as long as <span class="param">days</span> is greater than 0. Useful if there are times that shouldn't count towards the play time, or for penalizing bad players &gt;:)
			
			
		</tt></p>
		<a name="about-hoursofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">hours of play</font></b><br>
			Returns the number of hours that the game has been played, 0 to 23
			
			
		</tt></p>
		<a name="about-sethoursofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">set hours of play (hours)</font></b><br>
			Sets the number of hours that the game has been "played" to <span class="param">hours</span>, as long as <span class="param">hours</span> is within the 0-23 range.
			
			
		</tt></p>
		<a name="about-minutesofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">minutes of play</font></b><br>
			Returns the number of minutes that the game has been played, 0 to 59
			
			
		</tt></p>
		<a name="about-setminutesofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">set minutes of play (min)</font></b><br>
			Sets the number of minutes that the game has been "played" to <span class="param">min</span>, as long as <span class="param">min</span> is within the 0-59 range.
			
			
		</tt></p>
		<a name="about-secondsofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">seconds of play</font></b><br>
			Returns the number of seconds that the game has been played, 0 to 59
			
			
		</tt></p>
		<a name="about-setsecondssofplay"></a>
		<p>
		<tt>
		<b><font color="yellow">set seconds of play (sec)</font></b><br>
			Sets the number of seconds that the game has been "played" to <span class="param">sec</span>, as long as <span class="param">sec</span> is within the 0-59 range.
			
			
		</tt></p>
		<a name="about-systemyear"></a>
		<p>
		<tt>
		<b><font color="yellow">system year</font></b><br>
			Returns the current real-world year
			
			
		</tt></p>
		<a name="about-systemmonth"></a>
		<p>
		<tt>
		<b><font color="yellow">system month</font></b><br>
			Returns the current real-world month, 1 to 12
			
			
		</tt></p>
		<a name="about-systemday"></a>
		<p>
		<tt>
		<b><font color="yellow">system day</font></b><br>
			Returns the current real-world day, 1 to 31
			
			
		</tt></p>
		<a name="about-systemhour"></a>
		<p>
		<tt>
		<b><font color="yellow">system hour</font></b><br>
			Returns the current real-world hour, 0 to 23
			
			
		</tt></p>
		<a name="about-systemminute"></a>
		<p>
		<tt>
		<b><font color="yellow">system minute</font></b><br>
			Returns the current real-world minute, 0 to 59
			
			
		</tt></p>
		<a name="about-systemsecond"></a>
		<p>
		<tt>
		<b><font color="yellow">system second</font></b><br>
			Returns the current real-world second, 0 to 59
			
			
		</tt></p>
		<a name="about-keyispressed"></a>
		<p>
		<tt>
		<b><font color="yellow">key is pressed (scancode)</font></b><br>
			Returns <a href="#about-booleanconstants" class="ref">true</a> if the keyboard key with the specified scancode is being pressed (either held down or pressed since last tick), or <a href="#about-booleanconstants" class="ref">false</a> if it is not. The argument is a scancode, NOT the <a href="#about-keyconstants" class="ref">up key</a>, <a href="#about-keyconstants" class="ref">down key</a>, etc used with <a href="#about-waitforkey" class="ref">wait for key</a>. I have provided an extra include file, SCANCODE.HSI that you can use to define friendly names for all the scancodes.<br>
                <ul>
<li>00</li>
<li>01 ESC</li>
<li>02 1</li>
<li>03 2</li>
<li>04 3</li>
<li>05 4</li>
<li>06 5</li>
<li>07 6</li>
<li>08 7</li>
<li>09 8</li>
<li>10 9</li>
<li>11 0</li>
<li>12 - _</li>
<li>13 = +</li>
<li>14 BACKSPACE</li>
<li>15 TAB</li>
<li>16 Q</li>
<li>17 W</li>
<li>18 E</li>
<li>19 R</li>
<li>20 T</li>
<li>21 Y</li>
<li>22 U</li>
<li>23 I</li>
<li>24 O</li>
<li>25 P</li>
<li>26 [ {</li>
<li>27 ] }</li>
<li>28 ENTER</li>
<li>29 CTRL</li>
<li>30 A</li>
<li>31 S</li>
<li>32 D</li>
<li>33 F</li>
<li>34 G</li>
<li>35 H</li>
<li>36 J</li>
<li>37 K</li>
<li>38 L</li>
<li>39 ; :</li>
<li>40 " '</li>
<li>41 ` ~</li>
<li>42 LEFT SHIFT</li>
<li>43 \ |</li>
<li>44 Z</li>
<li>45 X</li>
<li>46 C</li>
<li>47 V</li>
<li>48 B</li>
<li>49 N</li>
<li>50 M</li>
<li>51 , &lt;</li>
<li>52 . &gt;</li>
<li>53 / ?</li>
<li>54 RIGHT SHIFT</li>
<li>55 PRINT SCREEN *</li>
<li>56 ALT</li>
<li>57 SPACE</li>
<li>58 CAPSLOCK</li>
<li>59 F1</li>
<li>60 F2</li>
<li>61 F3</li>
<li>62 F4</li>
<li>63 F5</li>
<li>64 F6</li>
<li>65 F7</li>
<li>66 F8</li>
<li>67 F9</li>
<li>68 F10</li>
<li>69 NUMLOCK</li>
<li>70 SCROLL LOCK</li>
<li>71 HOME 7</li>
<li>72 UP 8</li>
<li>73 PAGEUP 9</li>
<li>74 KEYPAD -</li>
<li>75 LEFT 4</li>
<li>76 KEYPAD 5</li>
<li>77 RIGHT 6</li>
<li>78 KEYPAD +</li>
<li>79 END 1</li>
<li>80 DOWN 2</li>
<li>81 PAGEDOWN 3</li>
<li>82 INSERT 0</li>
<li>83 DEL .</li>
<li>84</li>
<li>85</li>
<li>86</li>
<li>87 F11</li>
<li>88 F12</li>
<li>89</li>
<li>90</li>
<li>91 L WIN LOGO</li>
<li>92 R WIN LOGO</li>
<li>93 CONTEXT</li>
</ul>Note: you can NOT wait for the player to press a key by continually polling <span class="param">key is pressed</span> unless you stick a <a href="#about-wait" class="ref">wait</a> in your do loop. That's because <span class="param">key is pressed</span> does not return real time data, but the state of the keyboard at the beginning of the current game tick.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-keyval" class="ref">keyval (scancode)</a></li></ul>
		</tt></p>
		<a name="about-keyval"></a>
		<p>
		<tt>
		<b><font color="yellow">keyval (scancode)</font></b><br>
			Returns a bitmask for the state of the specified key. The argument is a scancode, see <a href="#about-keyispressed" class="ref">key is pressed (scancode)</a>. The first (least significant) bit is whether the key was depressed at the beginning of the current tick. The second bit is whether the key was pushed down by the player since the start of the previous tick (or when the key starts to repeatedly trigger after being held down for a while). It can therefore return 0, 1, 2 or 3: <br><br>0 = not pressed<br>1 = key held down since last tick, but is not a new press<br>2 = the player pressed the key and released it, all in the same tick<br>3 = new keypress (or typematic repeat)<br><br>Note: just like <a href="#about-keyispressed" class="ref">key is pressed (scancode)</a>, this command does not return real time data, but the situation at the beginning of the current game tick.
			
			
		</tt></p>
		<a name="about-lastascii"></a>
		<p>
		<tt>
		<b><font color="yellow">last ascii</font></b><br>
			Returns the ascii code of any currently pressed key. If more than one key corresponding to an ascii character is being pressed, then only one can be returned.
			
			
		</tt></p>
		<a name="about-heropixelx"></a>
		<p>
		<tt>
		<b><font color="yellow">hero pixel X (who)</font></b><br>
			Returns the hero's X position on the map in pixels. To find the hero's position in tiles, use the <a href="#about-herox" class="ref">hero X</a> function instead.
			
			
		</tt></p>
		<a name="about-heropixely"></a>
		<p>
		<tt>
		<b><font color="yellow">hero pixel Y (who)</font></b><br>
			Returns the hero's Y position on the map in pixels. To find the hero's position in tiles, use the <a href="#about-heroy" class="ref">hero Y</a> function instead.
			
			
		</tt></p>
		<a name="about-npcpixelx"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC pixel X (who)</font></b><br>
			Returns the NPC's X position on the map in pixels. The argument is an <a href="#about-npcreference" class="ref">NPC reference</a> or an NPC ID number. To find the NPC's position in tiles, use the <a href="#about-npcx" class="ref">NPC X</a> function instead.
			
			
		</tt></p>
		<a name="about-npcpixely"></a>
		<p>
		<tt>
		<b><font color="yellow">NPC pixel Y (who)</font></b><br>
			Returns the NPC's Y position on the map in pixels. The argument is an <a href="#about-npcreference" class="ref">NPC reference</a> or an NPC ID number. To find the NPC's position in tiles, use the <a href="#about-npcy" class="ref">NPC Y</a> function instead.
			
			
		</tt></p>
		<a name="about-camerapixelx"></a>
		<p>
		<tt>
		<b><font color="yellow">camera pixel X</font></b><br>
			Returns the X position of the top left corner of the screen in pixels.
			
			
		</tt></p>
		<a name="about-camerapixely"></a>
		<p>
		<tt>
		<b><font color="yellow">camera pixel Y</font></b><br>
			Returns the Y position of the top left corner of the screen in pixels.
			
			
		</tt></p>
		<a name="about-pickhero"></a>
		<p>
		<tt>
		<b><font color="yellow">pick hero</font></b><br>
			Pops up a hero-picker box that lets you choose one of the heros in your active party. The return value is the position in the party of the hero you picked.
			
			
		</tt></p>
		<a name="about-renamehero"></a>
		<p>
		<tt>
		<b><font color="yellow">rename hero(who)</font></b><br>
			Pops up a name-editing box that allows you to change a hero's name. The argument is the hero's ID number, or name in the format hero:name
			
			
		</tt></p>
		<a name="about-renameherobyslot"></a>
		<p>
		<tt>
		<b><font color="yellow">rename hero by slot(who)</font></b><br>
			Pops up a name-editing box that allows you to change a hero's name. The argument is the hero's position in the party as returned by <a href="#about-findhero" class="ref">find hero</a>
			
			
		</tt></p>
		<a name="about-lastsaveslot"></a>
		<p>
		<tt>
		<b><font color="yellow">last save slot</font></b><br>
			Returns the last save slot saved in, or <a href="#about-booleanconstants" class="ref">false</a> if the game has not been saved yet.
			
			<br><br>See also: <ul class="seealso">
<li>
<a href="#about-saveinslot" class="ref">save in slot</a>, </li>
<li><a href="#about-savemenu" class="ref">save menu</a></li>
</ul>
		</tt></p>
		<a name="about-saveslotused"></a>
		<p>
		<tt>
		<b><font color="yellow">save slot used (slot)</font></b><br>
			Returns whether a game has been saved in the save slot. Use if you, for example, don't want to overwrite a saved game with <a href="#about-saveinslot" class="ref">save in slot</a>.
			
			
		</tt></p>
		<a name="about-getenemystat"></a>
		<p>
		<tt>
		<b><font color="yellow">get enemy stat(enemy, stat)</font></b><br>
			Returns the selected stat from the selected enemy. The first argument is the number of the enemy whose stats you want to check. The second argument is the name of the stat that you want to check. The names of the stats are also defined in your HSI file in the form stat:name. 
			
			<br><br>See also: <ul class="seealso">
<li>
<a href="#about-setenemystat" class="ref">set enemy stat</a>, </li>
<li>
<a href="#about-getherostat" class="ref">get hero stat</a>, </li>
<li><a href="#about-setherostat" class="ref">set hero stat</a></li>
</ul>
		</tt></p>
		<a name="about-setenemystat"></a>
		<p>
		<tt>
		<b><font color="yellow">set enemy stat(enemy, stat, value)</font></b><br>
			Sets the selected stat of the selected enemy to the value you supply. The first argument is the number of the enemy whose stats you want to set. The second argument is the name of the stat that you want to set. The names of the stats are also defined in your HSI file in the form stat:name. The third is the new value of the stat. <br>Note: Enemy stat changes are temporary. They are not saved in the save game.
			
			<br><br>See also: <ul class="seealso">
<li>
<a href="#about-getenemystat" class="ref">get enemy stat</a>, </li>
<li>
<a href="#about-getherostat" class="ref">get hero stat</a>, </li>
<li><a href="#about-setherostat" class="ref">set hero stat</a></li>
</ul>
		</tt></p>
		<a name="about-getenemyname"></a>
		<p>
		<tt>
		<b><font color="yellow">get enemy name (enemyid, stringid)</font></b><br>
			Lets you use the enemy name in a string.  The first argument is the number of the enemy you want to get the name from, second argument is the number of the string that you want to store the name of the enemy.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-setenemyname" class="ref">set enemy name</a></li></ul>
		</tt></p>
		<a name="about-setenemyname"></a>
		<p>
		<tt>
		<b><font color="yellow">set enemy name (enemyid, stringid)</font></b><br>
			Lets you set the enemy name from a string, the string length cannot be more then 16 characters, if it is more then 16 the name will be truncated.  The first argument is the number of the enemy's name you want to change, second argument is the number of the string that you supply the name of the enemy from. <br>Note: Enemy name changes are temporary. They are not saved in the save game.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-getenemyname" class="ref">get enemy name</a></li></ul>
		</tt></p>
		<a name="about-getenemyappearance"></a>
		<p>
		<tt>
		<b><font color="yellow">get enemy appearance (enemyid, appearance)</font></b><br>
			Returns data on the appearance of a enemy. Enemyid is the enemy number that you want to return the appearance of, appearance is either picture, palette, or size. You can use the following constants for appearance: <li>enemy:picture</li>
<li>enemy:palette</li>
<li>enemy:picturesize</li> <br>You can compare the values returned from enemy:picturesize with the constants enemysize:small, enemysize:medium and enemysize:large
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-setenemyappearance" class="ref">set enemy appearance</a></li></ul>
		</tt></p>
		<a name="about-setenemyappearance"></a>
		<p>
		<tt>
		<b><font color="yellow">set enemy appearance (enemyid, appearance,value)</font></b><br>
			Lets you change an enemy's appearance.  Enemyid is the number of the enemy's appearance that you want to change, appearance is one of the constants given in <a href="#about-getenemyappearance" class="ref">get enemy appearance</a>. Value can is the new number that you want to assign, constants enemysize:small, enemysize:medium, or enemysize:large when changing picture size, or palette number when changing palette. <br>Note: Enemy appearance changes are temporary. They are not saved in the save game.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-getenemyappearance" class="ref">get enemy appearance</a></li></ul>
		</tt></p>
		<a name="about-readenemydata"></a>
		<p>
		<tt>
		<b><font color="yellow">read enemy data (enemyid, data)</font></b><br>
			Returns the enemy's reward values. Enemyid is the number of enemy, data is a predefined constant defining the data you want returned. Use the following constants:<li>enemy:gold</li>
<li>enemy:experience</li>
<li>enemy:item</li>
<li>enemy:itempercent</li>
<li>enemy:rareitem</li>
<li>enemy:rareitempercent</li>
<li>stealability</li>
<li>stealableitem</li>
<li>stealableitemchance</li>
<li>stealablerareitem</li>
<li>stealablerareitemchance</li>
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-writeenemydata" class="ref">write enemy data</a></li></ul>
		</tt></p>
		<a name="about-writeenemydata"></a>
		<p>
		<tt>
		<b><font color="yellow">write enemy data (enemyid, data, value)</font></b><br>
			Lets you set items of an enemy's data. Enemyid is the number of enemy, data is a predefined constant for the data you want to change. Value is the new value given to that setting. Use the same constants as are given at <a href="#about-readenemydata" class="ref">read enemy data</a>.<br>Note: Enemy data changes are temporary. They are not saved in the save game.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-readenemydata" class="ref">read enemy data</a></li></ul>
		</tt></p>
		<a name="about-getformationsong"></a>
		<p>
		<tt>
		<b><font color="yellow">get formation song (formation)</font></b><br>
			Returns the song associated with <span class="param">formation</span>. If there is none, it will return 0, otherwise it will return the song number + 1. If there is an error (such as <span class="param">formation</span> not existing), it will return -1.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-setformationsong" class="ref">set formation song</a></li></ul>
		</tt></p>
		<a name="about-setformationsong"></a>
		<p>
		<tt>
		<b><font color="yellow">set formation song (formation, song)</font></b><br>
			Sets an enemy formation to use <span class="param">song</span> as its music. Use 0 for none, or the song number + 1 for a song.<br>Note: Formation data changes are temporary. They are not saved in the save game.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-getformationsong" class="ref">get formation song</a></li></ul>
		</tt></p>
		<a name="about-herolevelled"></a>
		<p>
		<tt>
		<b><font color="yellow">hero levelled (who)</font></b><br>
			Returns the number of levels the specified hero (use result from <a href="#about-findhero" class="ref">find hero</a>) gained from only the very last battle or <a href="#about-giveexperience" class="ref">give experience</a> command - levels gained from previous battles or commands is not recorded. In other words, does not return true or false, but can be be used in an if statement like:
			<pre>give experience (party, 50)
if (herolevelled (find hero (hero: Bob))) then (
  $31="Bob gained "
  append number(31, hero levelled (find hero (hero: Bob)))
  $31+" levels!"
  show textbox (233) # ${S31} :show string 31
)</pre>
			
		</tt></p>
		
		<hr>
	
		<a name="Tweaking Maps"></a>
		
		<font color="#f06060" size="4">Tweaking Maps</font>
		<p></p>
		
		<a name="about-readmapblock"></a>
		<p>
		<tt>
		<b><font color="yellow">read map block (x,y)</font></b><br>
			Returns the value of a map tile on the current map at the specified X,Y position. Normal map tiles return values from 0-159, animating maptiles from set 1 return 160-207 and animating maptiles from set 2 return 208-255.
			
			
		</tt></p>
		<a name="about-writemapblock"></a>
		<p>
		<tt>
		<b><font color="yellow">write map block (x,y,value)</font></b><br>
			Writes a new tile to the specified X,Y position on the current map. This change will only persist until you leave the map or fight a battle.
			
			
		</tt></p>
		<a name="about-readpassblock"></a>
		<p>
		<tt>
		<b><font color="yellow">read pass block (x,y)</font></b><br>
			Returns the value of a passability (wallmap) tile on the current map at the specified X,Y position. The return value will be from 0 to 255 and consists of eight flag bits.<br><br>bit 1 = <a href="#about-tileconstants" class="ref">north wall</a><br>bit 2 = <a href="#about-tileconstants" class="ref">east wall</a><br>bit 4 = <a href="#about-tileconstants" class="ref">south wall</a><br>bit 8 = <a href="#about-tileconstants" class="ref">west wall</a><br>bit 16  = <a href="#about-tileconstants" class="ref">vehicle A</a><br>bit 32 = <a href="#about-tileconstants" class="ref">vehicle B</a><br>bit 64 = <a href="#about-tileconstants" class="ref">harm tile</a><br>bit 128 = <a href="#about-tileconstants" class="ref">overhead tile</a><br><br>To check the value of a specific bit, use the <a href="#about-and" class="ref">and</a> operator. For example:  
			<pre>  variable (pass)
  set variable(pass,read pass block(hero X(me),hero Y(me)))
  if (pass,and,harm tile) then begin
    # this checks if the hero is standing
    # on a harm tile
  end</pre>
			
		</tt></p>
		<a name="about-writepassblock"></a>
		<p>
		<tt>
		<b><font color="yellow">write pass block (x,y,value)</font></b><br>
			Writes a new passability (wallmap) information to the specified X,Y position on the current map. This change will only persist until you leave the map or fight a battle. The value is a number from from 0 to 255 that consists of eight flag bits.<br><br>bit 1 = <a href="#about-tileconstants" class="ref">north wall</a><br>bit 2 = <a href="#about-tileconstants" class="ref">east wall</a><br>bit 4 = <a href="#about-tileconstants" class="ref">south wall</a><br>bit 8 = <a href="#about-tileconstants" class="ref">west wall</a><br>bit 16  = <a href="#about-tileconstants" class="ref">vehicle A</a><br>bit 32 = <a href="#about-tileconstants" class="ref">vehicle B</a><br>bit 64 = <a href="#about-tileconstants" class="ref">harm tile</a><br>bit 128 = <a href="#about-tileconstants" class="ref">overhead tile</a><br><br>You can <a href="#about-add" class="ref">add</a> the constants together. For example:
			<pre>variable (pass)
set variable(pass,northwall+southwall+eastwall+westwall)
write pass block(15,3,pass)
# this makes the fifteenth tile in the third column
# impassable on all directions</pre>
			
		</tt></p>
		<a name="about-loadtileset"></a>
		<p>
		<tt>
		<b><font color="yellow">load tileset (set)</font></b><br>
			Loads a different tileset for the currently displaying map. The argument is the ID number of the tileset to load. To restore the map's default tileset, use load tileset with no arguments.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-getmaptileset" class="ref">get map tileset</a></li></ul>
		</tt></p>
		
		<hr>
	
		<a name="Working with Tags"></a>
		
		<font color="#f06060" size="4">Working with Tags</font>
		<p></p>
		
		<a name="about-settag"></a>
		<p>
		<tt>
		<b><font color="yellow">set tag (tag,value)</font></b><br>
			Sets the value of a tag. The available constants are: <a href="#about-booleanconstants" class="ref">off</a>, <a href="#about-booleanconstants" class="ref">on</a>, <a href="#about-booleanconstants" class="ref">true</a>, or <a href="#about-booleanconstants" class="ref">false</a>. You can specify the number of the tag, or you can use the constants in your HSI file. These constants are in the form of tag:name.
			
			
		</tt></p>
		<a name="about-checktag"></a>
		<p>
		<tt>
		<b><font color="yellow">check tag (tag)</font></b><br>
			A function that checks the value of a tag, and returns <a href="#about-booleanconstants" class="ref">true</a> if the tag is turned on, and <a href="#about-booleanconstants" class="ref">false</a> if the tag is turned off. It can be used in <a href="#about-if" class="ref">if</a> and <a href="#about-while" class="ref">while</a> statements. You can specify the number of the tag, or you can use the constants in your HSI file. These constants are in the form of tag:name.
			
			
		</tt></p>
		
		<hr>
	
		<a name="Working with Variables"></a>
		
		<font color="#f06060" size="4">Working with Variables</font>
		<p></p>
		
		<a name="about-setvariable"></a>
		<p>
		<tt>
		<b><font color="yellow">set variable (variable,value)</font></b><br>
			This command assigns a new value to a variable. If you do not specify the new value, the variable will be reset to zero. This command works exactly the same for global and local variables.<br>If you prefer, you can also set variables by writing variable := value
			
			
		</tt></p>
		<a name="about-increment"></a>
		<p>
		<tt>
		<b><font color="yellow">increment (variable,amount)</font></b><br>
			This command adds an amount to the current value of a variable. If you do not specify the amount, then the variable will be incremented by one. This command works exactly the same for global and local variables.<br>You can also increment variables by writing variable += amount
			
			
		</tt></p>
		<a name="about-decrement"></a>
		<p>
		<tt>
		<b><font color="yellow">decrement (variable,amount)</font></b><br>
			This command subtracts an amount from the current value of a variable. If you do not specify the amount, then the variable will be decremented by one. This command works exactly the same for global and local variables.<br>You can also decrement variables by writing variable -= amount
			
			
		</tt></p>
		
		<hr>
	
		<a name="Math, Comparison, and Logic Operators"></a>
		
		<font color="#f06060" size="4">Math, Comparison, and Logic Operators</font>
		<p>Pre-December 1999 versions of HamsterSpeak used a different syntax for math. For more information, see the HamsterSpeak Specification</p>
		
		<a name="about-add"></a>
		<p>
		<tt>
		<b><font color="yellow">number + number</font></b><br>
			Adds two values together and returns the result. This can also be written as add(number,number)
			
			
		</tt></p>
		<a name="about-subtract"></a>
		<p>
		<tt>
		<b><font color="yellow">number -- number</font></b><br>
			Subtracts the second number from the first number and returns the result. It is neccisary to use the double minus so that HSPEAK.EXE can tell the difference between subtraction, and a minus sign that indicates a negative number. You can also write subtract(number,number)
			
			
		</tt></p>
		<a name="about-multiply"></a>
		<p>
		<tt>
		<b><font color="yellow">number * number</font></b><br>
			Multiplies two values together and returns the result. This can also be written as multiply(number,number)
			
			
		</tt></p>
		<a name="about-divide"></a>
		<p>
		<tt>
		<b><font color="yellow">number / number</font></b><br>
			Divides the second number into the first number and returns the result. The result is rounded down to an integer. This can also be written as divide(number,number)
			
			
		</tt></p>
		<a name="about-modulus"></a>
		<p>
		<tt>
		<b><font color="yellow">number,mod,number</font></b><br>
			Divides the second number into the first number and returns the remainder. This can also be written as modulus(number,number)
			
			
		</tt></p>
		<a name="about-exponent"></a>
		<p>
		<tt>
		<b><font color="yellow">number ^ power</font></b><br>
			Raises a number to a power and returns the result. Normally you will only be raising things to a power of 2. Raising to very large powers will most certainly produce an overflow error. This can also be written as exponent(number,power)
			
			
		</tt></p>
		<a name="about-equal"></a>
		<p>
		<tt>
		<b><font color="yellow">number == number</font></b><br>
			Checks to see if the two numbers are equal. If they are equal it returns true, otherwise it returns false. This can also be written as equal(number,number)
			
			
		</tt></p>
		<a name="about-notequal"></a>
		<p>
		<tt>
		<b><font color="yellow">number &lt;&gt; number</font></b><br>
			Checks to see if the two numbers are not equal. If they are not equal it returns true. If they are equal it returns false. This can also be written as not equal(number,number)
			
			
		</tt></p>
		<a name="about-lessthan"></a>
		<p>
		<tt>
		<b><font color="yellow">number &lt;&lt; number</font></b><br>
			Checks to see if the first number is less than the second number. If it is, it returns true, otherwise it returns false. This can also be written as less than(number,number)
			
			
		</tt></p>
		<a name="about-greaterthan"></a>
		<p>
		<tt>
		<b><font color="yellow">number &gt;&gt; number</font></b><br>
			Checks to see if the first number is greater than the second number. If it is, it returns true, otherwise it returns false. This can also be written as greater than(number,number)
			
			
		</tt></p>
		<a name="about-lessthanorequalto"></a>
		<p>
		<tt>
		<b><font color="yellow">number &lt;= number</font></b><br>
			Checks to see if the first number is less than or equal to the second number. If it is, it returns true, otherwise it returns false. This can also be written as less than or equal to(number,number)
			
			
		</tt></p>
		<a name="about-greaterthanorequalto"></a>
		<p>
		<tt>
		<b><font color="yellow">number &gt;= number</font></b><br>
			Checks to see if the first number is greater than or equal to the second number. If it is, it returns true, otherwise it returns false. This can also be written as greater than or equal to(number,number)
			
			
		</tt></p>
		<a name="about-and"></a>
		<p>
		<tt>
		<b><font color="yellow">value,and,value</font></b><br>
			Returns true if both of the values are true (non-zero). If either of them is false, and returns false.
			
			
		</tt></p>
		<a name="about-or"></a>
		<p>
		<tt>
		<b><font color="yellow">value,or,value</font></b><br>
			Returns true if at least one of the values are true (non-zero). Only if both of them are false does or return false.
			
			
		</tt></p>
		<a name="about-xor"></a>
		<p>
		<tt>
		<b><font color="yellow">value,xor,value</font></b><br>
			Returns true if one, but not both of the values are true (non-zero). If both of them are true, or both of them are false, xor returns false.
			
			
		</tt></p>
		
		<hr>
	
		<a name="Flow Control"></a>
		
		<font color="#f06060" size="4">Flow Control</font>
		<p></p>
		
		<a name="about-begin"></a>
		<p>
		<tt>
		<b><font color="yellow">begin,other commands,end</font></b><br>
			Begin is a synonym for ( and end is a synonym for ). Parenthesis are normally used for bracketing things that all fit on the same line, and begin/end statements are often used to enclose very long things such as whole scripts or long flow control blocks that take up several lines. For example, the following two blocks of code are identical:
			<pre>if (check tag(2)) then (show text box (5),wait for text box)</pre>
<pre>if (check tag(2)) then
begin
	show text box (5)
	wait for text box
end</pre>
			
		</tt></p>
		<a name="about-end"></a>
		<p>
		<tt>
		
				<b><font color="yellow">end</font></b><br>
				See <a href="#about-begin">begin</a>
			</tt></p>
		<a name="about-if"></a>
		<p>
		<tt>
		<b><font color="yellow">if(condition) then(commands) else(commands)</font></b><br>
			The if statement checks the value of its condition, and if the value is <a href="#about-booleanconstants" class="ref">true</a>, it runs the commands in the then block. If the value is <a href="#about-booleanconstants" class="ref">false</a>, it runs the commands in its else block. The conditional is usually an equality operator such as <a href="#about-equal" class="ref">==</a> or <a href="#about-notequal" class="ref">&lt;&gt;</a>, or it is a <a href="#about-checktag" class="ref">check tag</a> command. The else is optional as long as you have a then, and the then is optional as long as you have an else. There are some examples of if statements in the HamsterSpeak Specification, and in WANDERP.HSS
			
			
		</tt></p>
		<a name="about-then"></a>
		<p>
		<tt>
		
				<b><font color="yellow">then</font></b><br>
				See <a href="#about-if">if</a>
			</tt></p>
		<a name="about-else"></a>
		<p>
		<tt>
		
				<b><font color="yellow">else</font></b><br>
				See <a href="#about-if">if</a>
			</tt></p>
		<a name="about-while"></a>
		<p>
		<tt>
		<b><font color="yellow">while(condition) do(commands)</font></b><br>
			The while command checks the value of its condition, and if the value is <a href="#about-booleanconstants" class="ref">true</a> it runs the commands in the do block. It keeps checking the conditional and runs the do block over and over again until the conditional returns <a href="#about-booleanconstants" class="ref">false</a>. The conditional is usually an equality operator such as <a href="#about-equal" class="ref">==</a> or <a href="#about-notequal" class="ref">&lt;&gt;</a>, or it is a check tag command.
			
			
		</tt></p>
		<a name="about-do"></a>
		<p>
		<tt>
		<b><font color="yellow">do</font></b><br>
			
			
			<br><br>See also: <ul class="seealso">
<li>
<a href="#about-while" class="ref">while</a>, </li>
<li><a href="#about-for" class="ref">for</a></li>
</ul>
		</tt></p>
		<a name="about-for"></a>
		<p>
		<tt>
		<b><font color="yellow">for(counter,start,finish,step) do(commands)</font></b><br>
			The for command runs the commands in the do block a specified number of times. The first argument to for is the counter. It must be a variable. The next two arguments are the starting value and the finishing value. For example, if you use a start value of 1 and a finish value of 10 then the do block will run 10 times. The first time the do block runs, the counter will be 1, then it will be 2, then 3 and so on until it reaches 10, the finish value. The fourth argument of for is optional. It is the step by which the counter will change each loop. If you use a step of 2 then the counter will count 1,3,5,7,9. If you switch the start and finish values and use a step of -1 then the counter will go backwards. If you use 0 as the step, the counter will never change, so the do block will repeat forever. There are examples of for commands in WANDERP.HSS
			
			
		</tt></p>
		<a name="about-return"></a>
		<p>
		<tt>
		<b><font color="yellow">return(value)</font></b><br>
			Sets the value to be returned by the script. This is only useful when the script has been called as a function from another script. It is irrelevant to scripts called directly from your RPG. This command does NOT cause the script to terminate, it just sets the return value. If return is used more than once in the same script, only the last one executed matters
			
			
		</tt></p>
		
		<hr>
	
		<a name="Advanced Commands"></a>
		
		<font color="#f06060" size="4">Advanced Commands</font>
		<p></p>
		
		<a name="about-setheropicture"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero picture (who,picture,type)</font></b><br>
			Permanently changes a hero's picture. The first argument is the heros position in the party as returned by <a href="#about-findhero" class="ref">find hero</a>. The second argument is the index number of the picture to use, and the last argument is a constant <a href="#about-insidebattle" class="ref">inside battle</a> or <a href="#about-outsidebattle" class="ref">outside battle</a>, which determines if you are changing the heros battle picture or their walkabout picture. If the last argument is left out, <a href="#about-outsidebattle" class="ref">outside battle</a> is assumed.
			
			
		</tt></p>
		<a name="about-setheropalette"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero palette (who,palette,type)</font></b><br>
			Permanently changes a hero's 16-color palette. The first argument is the heros position in the party as returned by <a href="#about-findhero" class="ref">find hero</a>. The second argument is the index number of the 16-color palette to use, and the last argument is a constant <a href="#about-insidebattle" class="ref">inside battle</a> or <a href="#about-outsidebattle" class="ref">outside battle</a>, which determines if you are changing the heros battle palette or their walkabout palette. If the last argument is left out, <a href="#about-outsidebattle" class="ref">outside battle</a> is assumed.
			
			
		</tt></p>
		<a name="about-getheropicture"></a>
		<p>
		<tt>
		<b><font color="yellow">get hero picture (who,type)</font></b><br>
			A function that returns the index number of a hero's picture. The first argument is the heros position in the party as returned by <a href="#about-findhero" class="ref">find hero</a>. The second argument is a constant <a href="#about-insidebattle" class="ref">inside battle</a> or <a href="#about-outsidebattle" class="ref">outside battle</a>, which determines if you are checking the heros battle picture or their walkabout picture. If the second argument is left out, <a href="#about-outsidebattle" class="ref">outside battle</a> is assumed.
			
			
		</tt></p>
		<a name="about-getheropalette"></a>
		<p>
		<tt>
		<b><font color="yellow">get hero palette (who,type)</font></b><br>
			A function that returns the index number of a hero's 16-color palette. The first argument is the heros position in the party as returned by <a href="#about-findhero" class="ref">find hero</a>. The second argument is a constant <a href="#about-insidebattle" class="ref">inside battle</a> or <a href="#about-outsidebattle" class="ref">outside battle</a>, which determines if you are checking the heros battle palette or their walkabout palette. If the second argument is left out, <a href="#about-outsidebattle" class="ref">outside battle</a> is assumed.
			
			
		</tt></p>
		<a name="about-alternpc"></a>
		<p>
		<tt>
		<b><font color="yellow">alter NPC (who,NPCstat,value)</font></b><br>
			Changes the stats of an NPC. Constants for this command have been included in PLOTSCR.HSD. Alter NPC can be used for many purposes.<br>
<ul>
<li>Alter NPC (who,NPCstat:picture,picture number)</li>
<li>Alter NPC (who,NPCstat:palette,palette number)</li>
<li>Alter NPC (who,NPCstat:move type,move type code)<br>Available move types<ul>
<li>NPCmovetype:standstill</li>
<li>NPCmovetype:wander</li>
<li>NPCmovetype:pace</li>
<li>NPCmovetype:rightturns</li>
<li>NPCmovetype:leftturns</li>
<li>NPCmovetype:randomturns</li>
<li>NPCmovetype:chaseyou</li>
<li>NPCmovetype:avoidyou</li>
</ul>
</li>
<li>Alter NPC (who,NPCstat:move speed,speed)</li>
<li>Alter NPC (who,NPCstat:display text,text box number)</li>
<li>Alter NPC (who,NPCstat:when activated,when activated code)<br>Available when activated codes<ul>
<li>NPCwhenactivated:changedirection</li>
<li>NPCwhenactivated:faceplayer</li>
<li>NPCwhenactivated:donotfaceplayer</li>
</ul>
</li>
<li>Alter NPC (who,NPCstat:give item,item number)</li>
<li>Alter NPC (who,NPCstat:pushability,pushability code)<br>Available pushability codes<ul>
<li>NPCpush:off</li>
<li>NPCpush:full</li>
<li>NPCpush:horizontal</li>
<li>NPCpush:vertical</li>
<li>NPCpush:uponly</li>
<li>NPCpush:rightonly</li>
<li>NPCpush:downonly</li>
<li>NPCpush:leftonly</li>
</ul>
</li>
<li>Alter NPC (who,NPCstat:activation,activation code)<br>Available activation codes<ul>
<li>NPCactivation:use</li>
<li>NPCactivation:touch</li>
<li>NPCactivation:stepon</li>
</ul>
</li>
<li>Alter NPC (who,NPCstat:script,script ID)</li>
<li>Alter NPC (who,NPCstat:script argument,number)</li>
<li>Alter NPC (who,NPCstat:vehicle,vehicle ID)</li>
</ul>Normally you would only give an NPC ID number to alter NPC, but if you want to use an <a href="#about-npcreference" class="ref">NPC reference</a> it will still work. Just remember that alter NPC changes every copy of the NPC on the map, not just the specific one you referenced.<br>A good way to make use of Alter NPC is to wrap it in your own script. For example:
			<pre># Example AlterNPC wrapper for changing NPC appearance
Define Script (autonumber,change NPC,3,0,0,0)

script,change NPC,who,picture,palette,begin
  Alter NPC(who,NPCstat:picture,picture)
  Alter NPC(who,NPCstat:palette,palette)
end</pre>
			
		</tt></p>
		<a name="about-readnpc"></a>
		<p>
		<tt>
		<b><font color="yellow">read NPC (who,NPCstat)</font></b><br>
			Returns data such as picture, palette, walking speed, text box, etc. for an NPC. Use the same constants as <a href="#about-alternpc" class="ref">alter NPC</a>
			
			
		</tt></p>
		<a name="about-setdeathscript"></a>
		<p>
		<tt>
		<b><font color="yellow">set death script (id)</font></b><br>
			Changes the script that is run when you die in battle. The argument is the script's ID number, NOT the script's name. Calling set death script with no argument disables the death script.
			
			
		</tt></p>
		<a name="about-getdeathscript"></a>
		<p>
		<tt>
		<b><font color="yellow">get death script</font></b><br>
			Returns the ID number of script that is run when you die in battle.
			
			
		</tt></p>
		<a name="about-setloadscript"></a>
		<p>
		<tt>
		<b><font color="yellow">set load script (id)</font></b><br>
			Changes the script that is run when you load a saved game. The argument is the script's ID number, NOT the script's name. Calling set load script with no argument disables the load script.
			
			
		</tt></p>
		<a name="about-getloadscript"></a>
		<p>
		<tt>
		<b><font color="yellow">get load script</font></b><br>
			Returns the ID number of script that is run when you load a saved game.
			
			
		</tt></p>
		<a name="about-setonkeypressscript"></a>
		<p>
		<tt>
		<b><font color="yellow">set on keypress script (id)</font></b><br>
			Changes the script that is run when you press a key. The argument is the script's ID number, NOT the script's name. Calling set on keypress script with no argument disables the keypress script. The effect goes away if you change maps or fight a battle.
			
			
		</tt></p>
		<a name="about-getonkeypressscript"></a>
		<p>
		<tt>
		<b><font color="yellow">get on keypress script</font></b><br>
			Returns the ID number of script that is run when you press a key.
			
			
		</tt></p>
		<a name="about-seteachstepscript"></a>
		<p>
		<tt>
		<b><font color="yellow">set each step script (id)</font></b><br>
			Changes the script that is run when you take a step. The argument is the script's ID number, NOT the script's name. Calling set each step script with no argument disables the each step script. The effect goes away if you change maps or fight a battle.
			
			
		</tt></p>
		<a name="about-geteachstepscript"></a>
		<p>
		<tt>
		<b><font color="yellow">get each step script</font></b><br>
			Returns the ID number of script that is run when you take a step.
			
			
		</tt></p>
		<a name="about-setinsteadofbattlescript"></a>
		<p>
		<tt>
		<b><font color="yellow">set instead of battle script (id)</font></b><br>
			Changes the script that is run instead of a battle when one is triggered. The argument is the script's ID number, NOT the script's name. Calling set instead of battle script with no argument disables the instead of battle script. The effect goes away if you change maps or fight a battle.
			
			
		</tt></p>
		<a name="about-getinsteadofbattlescript"></a>
		<p>
		<tt>
		<b><font color="yellow">get instead of battle script</font></b><br>
			Returns the ID number of script that is run instead of battles.
			
			
		</tt></p>
		<a name="about-setharmtiledamage"></a>
		<p>
		<tt>
		<b><font color="yellow">set harm tile damage (amount)</font></b><br>
			Sets the amount of damage taken when you step on a harm tile. The effect goes away if you change maps or fight a battle.
			
			
		</tt></p>
		<a name="about-setharmtileflash"></a>
		<p>
		<tt>
		<b><font color="yellow">set harm tile flash (color)</font></b><br>
			Sets the color (from the master palette) which the screen flashs when you step on a harm tile. Call with no argument to disable the flash. The effect goes away if you change maps or fight a battle.
			
			
		</tt></p>
		<a name="about-setfootoffset"></a>
		<p>
		<tt>
		<b><font color="yellow">set foot offset (offset)</font></b><br>
			Sets the foot offset in pixels, the vertical displacement of npc and hero sprites from the base of the tiles on which they stand. The effect goes away if you change maps or fight a battle.
			
			
		</tt></p>
		<a name="about-getfootoffset"></a>
		<p>
		<tt>
		<b><font color="yellow">get foot offset</font></b><br>
			Returns the map's foot offset.
			
			
		</tt></p>
		<a name="about-drawnpcsaboveheroes"></a>
		<p>
		<tt>
		<b><font color="yellow">draw NPCs above heroes (setting)</font></b><br>
			Sets whether NPCs are drawn above heros or the default of beneath. The effect goes away if you change maps or fight a battle.
			
			
		</tt></p>
		<a name="about-setmapedgemode"></a>
		<p>
		<tt>
		<b><font color="yellow">set map edge mode (mode, default tile)</font></b><br>
			Sets the behaviour at the edge of the map. Use the constants <a href="#about-crop" class="ref">crop</a>, <a href="#about-wrap" class="ref">wrap</a> and <a href="#about-defaulttile" class="ref">default tile</a>. When the behaviour is default tile, you should give a second argument specifying which tile should be displayed off the boundaries of the map, otherwise ignore the second argument. The effect goes away if you change maps or fight a battle.
			
			
		</tt></p>
		<a name="about-getmapedgemode"></a>
		<p>
		<tt>
		<b><font color="yellow">get map edge mode</font></b><br>
			Returns the map's edge mode. Use the constants <a href="#about-crop" class="ref">crop</a>, <a href="#about-wrap" class="ref">wrap</a> and <a href="#about-defaulttile" class="ref">default tile</a> to compare with the value returned.
			
			
		</tt></p>
		<a name="about-findhero"></a>
		<p>
		<tt>
		<b><font color="yellow">find hero (who)</font></b><br>
			Searches through your party to see if the specified hero is there, and returns the position where the hero was found, or -1 if the hero was not found. Use the names defined in your HSI file in the format hero:name. Not only does this tell you if a hero is in your party, but you can also use it to tell whether or not the hero is in your active party. find hero will return 0,1,2 or 3 if the hero is in the active party, but it will return a number 4 or higher if the hero is in the reserve.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-rankincaterpillar" class="ref">rank in caterpillar</a></li></ul>
		</tt></p>
		<a name="about-herobyslot"></a>
		<p>
		<tt>
		<b><font color="yellow">hero by slot (where)</font></b><br>
			This command is the reverse of <a href="#about-findhero" class="ref">find hero</a>. Given a position in your party, it will tell you which hero is in that slot, or -1 if no hero is in that slot. The number returned can be compared with the names defined in your HSI file in the format hero:name.
			
			
		</tt></p>
		<a name="about-rankincaterpillar"></a>
		<p>
		<tt>
		<b><font color="yellow">rank in caterpillar (who)</font></b><br>
			Searches through your active party to see if the specified hero is there, and returns the position int the walkabout caterpillar where the hero was found, or -1 if the hero was not found. Use the names defined in your HSI file in the format hero:name. This is particularaly useful if you need to use a command like walk hero but you are not sure which position the hero is in.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-findhero" class="ref">find hero</a></li></ul>
		</tt></p>
		<a name="about-herobyrank"></a>
		<p>
		<tt>
		<b><font color="yellow">hero by rank (where)</font></b><br>
			This command is the reverse of <a href="#about-rankincaterpillar" class="ref">rank in caterpillar</a>. Given a position in your walkabout party, it will tell you which hero is in that position, or -1 if no hero is in that position. The number returned can be compared with the names defined in your HSI file in the format hero:name.
			
			
		</tt></p>
		<a name="about-getherostat"></a>
		<p>
		<tt>
		<b><font color="yellow">get hero stat (who,stat,type)</font></b><br>
			A function that returns one of a hero's stats. The first argument is the position of the hero you want to check in your party as as returned by <a href="#about-findhero" class="ref">find hero</a>. The second argument is the name of the stat that you want to check. The names of the stats are also define in your HSI file in the form stat:name. The third argument is either <a href="#about-currentstat" class="ref">current stat</a> or <a href="#about-maximumstat" class="ref">maximum stat</a>. If you leave the last argument blank, <a href="#about-currentstat" class="ref">current stat</a> will be assumed.
			
			<br><br>See also: <ul class="seealso">
<li>
<a href="#about-setherostat" class="ref">set hero stat</a>, </li>
<li>
<a href="#about-setenemystat" class="ref">set enemy stat</a>, </li>
<li><a href="#about-getenemystat" class="ref">get enemy stat</a></li>
</ul>
		</tt></p>
		<a name="about-setherostat"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero stat (who,stat,value,type)</font></b><br>
			A command that changes one of a hero's stats. The first argument is the position of the hero you want to change in your party as returned by find hero. The second argument is the name of the stat that you want to change. The names of the stats are also define in your HSI file in the form stat:name. The third argument is the new value of the stat. The last argument is either <a href="#about-currentstat" class="ref">current stat</a> or <a href="#about-maximumstat" class="ref">maximum stat</a>. If you leave the last argument blank, <a href="#about-currentstat" class="ref">current stat</a> will be assumed.
			
			<br><br>See also: <ul class="seealso">
<li>
<a href="#about-getherostat" class="ref">get hero stat</a>, </li>
<li>
<a href="#about-setenemystat" class="ref">set enemy stat</a>, </li>
<li><a href="#about-getenemystat" class="ref">get enemy stat</a></li>
</ul>
		</tt></p>
		<a name="about-getherolevel"></a>
		<p>
		<tt>
		<b><font color="yellow">get hero level (who)</font></b><br>
			A function that returns a hero's current level. The argument is the position of the hero you want to check in your party as as returned by <a href="#about-findhero" class="ref">find hero</a>. The return value with be your current level, from 0 to 99
			
			
		</tt></p>
		<a name="about-setherolevel"></a>
		<p>
		<tt>
		<b><font color="yellow">set hero level (who, level, forgetspells)</font></b><br>
			A command that sets a hero's current level. The first argument is the position of the hero you want to change in your party as as returned by <a href="#about-findhero" class="ref">find hero</a>. You can specify any hero in the active or reserve party and any (positive) level. Unlike old workarounds, this command teachs the hero any spells they would have learnt by that level and correctly sets the experience to next levelup (experience gained to the current next level is lost). You can also decrease the hero's level, which will cause spells to be forgotten, unless the optional 3rd argument (defaulting to true) is set as false.
			
			
		</tt></p>
		<a name="about-readglobal"></a>
		<p>
		<tt>
		<b><font color="yellow">read global (id)</font></b><br>
			A function that returns the value of a global variable using its ID number instead of its name. Why would you want to do a silly thing like that? Because it allows you to simulate simple fake arrays, in the old C-pointer style.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-writeglobal" class="ref">write global</a></li></ul>
		</tt></p>
		<a name="about-writeglobal"></a>
		<p>
		<tt>
		<b><font color="yellow">write global (id,value)</font></b><br>
			A function that writes a value into a global variable using its ID number instead of its name. Why would you want to do a silly thing like that? Because it allows you to simulate simple fake arrays, in the old C-pointer style
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-readglobal" class="ref">read global</a></li></ul>
		</tt></p>
		<a name="about-setbattlewaitmode"></a>
		<p>
		<tt>
		<b><font color="yellow">set battle wait mode (state)</font></b><br>
			Set whether or not battles pause on spell and item menus. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then enemies continue to attack while menus are up, if the argument is <a href="#about-booleanconstants" class="ref">on</a> then enemies wait while menus are up.
			
			
		</tt></p>
		<a name="about-setcaterpillarmode"></a>
		<p>
		<tt>
		<b><font color="yellow">set caterpillar mode (state)</font></b><br>
			Sets whether or not to display the whole party in "caterpillar" style. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then only the leader will be displayed. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then the whole party will be displayed. (do not confuse this with the <a href="#about-suspendcaterpillar" class="ref">suspend caterpillar</a> and <a href="#about-resumecaterpillar" class="ref">resume caterpillar</a> commands, which only apply when caterpillar mode is ON)
			
			
		</tt></p>
		<a name="about-setnohpleveluprestore"></a>
		<p>
		<tt>
		<b><font color="yellow">set no HP level up restore (state)</font></b><br>
			Sets whether or not a hero regains full HP after a levelup. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then HP is restored on a levelup. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then the hero's HP is not restored on a levelup.
			
			
		</tt></p>
		<a name="about-setnompleveluprestore"></a>
		<p>
		<tt>
		<b><font color="yellow">set no MP level up restore (state)</font></b><br>
			Sets whether or not a hero regains full MP after a levelup. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then MP is restored on a levelup. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then the hero's MP is not restored on a levelup.
			
			
		</tt></p>
		<a name="about-setinnnorevivemode"></a>
		<p>
		<tt>
		<b><font color="yellow">set inn no revive mode (state)</font></b><br>
			Sets whether or not inns restore dead heros to life. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then dead heros are restored by inns. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then dead heros remain dead in inns.
			
			
		</tt></p>
		<a name="about-setfullheroswapmode"></a>
		<p>
		<tt>
		<b><font color="yellow">set full hero swap mode (state)</font></b><br>
			Sets whether or not you can swap heros in and out of your active party from the menu. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then the "Order" menu will be available. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then the "Team" menu will be available.
			
			
		</tt></p>
		<a name="about-hidebattlereadymeter"></a>
		<p>
		<tt>
		<b><font color="yellow">hide battle ready meter (state)</font></b><br>
			Sets whether or not the ready meter appears in battle. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then the ready meter appears. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then the ready meter will be hidden.
			
			
		</tt></p>
		<a name="about-hidebattlehealthmeter"></a>
		<p>
		<tt>
		<b><font color="yellow">hide battle health meter (state)</font></b><br>
			Sets whether or not the health meter appears in battle. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then the health meter appears. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then the health meter will be hidden.
			
			
		</tt></p>
		<a name="about-setdebugkeysdisable"></a>
		<p>
		<tt>
		<b><font color="yellow">set debug keys disable (state)</font></b><br>
			Sets whether or not the debugging keys are allowed. If the argument is <a href="#about-booleanconstants" class="ref">off</a> then debugging keys are allowed. If the argument is <a href="#about-booleanconstants" class="ref">on</a> then debugging keys are disabled.
			
			
		</tt></p>
		<a name="about-allowminimap"></a>
		<p>
		<tt>
		<b><font color="yellow">allow minimap (setting)</font></b><br>
			Sets whether the Map option appears in the menu. Give no argument or <a href="#about-booleanconstants" class="ref">true</a> to enable, or <a href="#about-booleanconstants" class="ref">false</a> to disable. The effect goes away if you change maps or fight a battle.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-showminimap" class="ref">show mini map</a></li></ul>
		</tt></p>
		<a name="about-allowsaveanywhere"></a>
		<p>
		<tt>
		<b><font color="yellow">allow save anywhere (setting)</font></b><br>
			Sets whether the Save option appears in the menu. Give no argument or <a href="#about-booleanconstants" class="ref">true</a> to enable, or <a href="#about-booleanconstants" class="ref">false</a> to disable. The effect goes away if you change maps or fight a battle.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-savemenu" class="ref">save menu</a></li></ul>
		</tt></p>
		<a name="about-autosave"></a>
		<p>
		<tt>
		<b><font color="yellow">autosave</font></b><br>
			Transparently saves the game to the last save slot used, or if the game has not been saved yet, calls <a href="#about-savemenu" class="ref">save menu</a>. Returns the number of the last save slot, or if the user cancelled the save menu, returns false
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-lastsaveslot" class="ref">last save slot</a></li></ul>
		</tt></p>
		<a name="about-saveinslot"></a>
		<p>
		<tt>
		<b><font color="yellow">save in slot (slot)</font></b><br>
			Saves in the specified save slot (1 to 32, where only 1 to 4 are visible on the save and load menus). If a saved game already exists in the slot, it will be overwritten. If you want to make sure that no save game will be overwritten, use <a href="#about-saveslotused" class="ref">save slot used</a>. To display the save game menu instead, use <a href="#about-savemenu" class="ref">save menu</a>.
			
			
		</tt></p>
		<a name="about-loadfromslot"></a>
		<p>
		<tt>
		<b><font color="yellow">load from slot (slot)</font></b><br>
			Loads a saved game from a save slot as if it had been loaded from the load game menu. This command will end the current game.
			
			
		</tt></p>
		<a name="about-deletesave"></a>
		<p>
		<tt>
		<b><font color="yellow">delete save (slot)</font></b><br>
			Deletes a saved game. The save will no longer be visible on the load game menu or loadable with <a href="#about-loadfromslot" class="ref">load from slot</a>. However, <a href="#about-importglobals" class="ref">import globals</a> can still be used to read globals out of the slot.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-saveinslot" class="ref">save in slot</a></li></ul>
		</tt></p>
		<a name="about-importglobals"></a>
		<p>
		<tt>
		<b><font color="yellow">import globals (slot, first, last)</font></b><br>
			Loads a range of globals from a saved game, overwriting the current globals in that range. First and Last are the id numbers of the globals at the beginning and end of the range. First defaults to 0, and Last defaults to 1024 if both are not given. <br>To read a single global from a save slot without overwriting any, use the form 'var := import globals (slot, id)'<br>import globals and <a href="#about-exportglobals" class="ref">export globals</a> can be used to save and retrieve info about a saved game without loading it, and also to store variables that any game the player starts can use, like in the following example:
			<pre>define script (21, game finished, none)

define script (22, check game finished, none)

global variable (100, game completed)
global variable (101, hours to complete)
global variable (102, minutes to complete)

script, game finished, begin
  game complete := true
  hours to complete := hours of play
  minutes to complete := minutes of play
  export globals (5, 100, 102) #special slot that the player can not load, which we can use for anything
end

script, check game finished, begin
  import globals (5, 100, 102) #copy saved values into globals 100, 101, 102
  if (game completed) then (
    show textbox (105) #"you have previously finished this game in ${V101} hours and ${V102} minutes"
  ) else (
    show textbox (106) #"you have yet to complete the game!"
  )
  wait for textbox
end</pre>
			<br><br>See also: <ul class="seealso"><li><a href="#about-readglobal" class="ref">read global</a></li></ul>
		</tt></p>
		<a name="about-exportglobals"></a>
		<p>
		<tt>
		<b><font color="yellow">export globals (slot, first, last)</font></b><br>
			Writes a range of globals to a saved game, overwriting the saved games globals. "First" and "Last" are the id numbers of the globals at the beginning and end of the range. First defaults to 0, and Last defaults to 1024. Therefore, if you pass no range, all the globals will be written.
			
			<br><br>See also: <ul class="seealso"><li><a href="#about-writeglobal" class="ref">write global</a></li></ul>
		</tt></p>
		<a name="about-runscriptbyid"></a>
		<p>
		<tt>
		<b><font color="yellow">run script by ID (id, argument1, argument2, argument3...)</font></b><br>
			To making switching between scripts easier, you can call a script by its ID number. Pass arguments after the ID as normal. The script can also return a value as normal. -1 is returned if the script does not exist.
			<pre>variable (return value)
return value := run script by id (10, 1, 2, 3)
show value (return value)

define script (10,sum,3,0,0,0)
script,sum,a,b,c,begin
  return(a+b+c)
end</pre>
			
		</tt></p>
		<a name="about-getdamagecap"></a>
		<p>
		<tt>
		<b><font color="yellow">get damage cap</font></b><br>
			Returns the current damage cap, or 0 if none
			
			
		</tt></p>
		<a name="about-setdamagecap"></a>
		<p>
		<tt>
		<b><font color="yellow">set damage cap (cap)</font></b><br>
			Sets the current damage cap to <span class="param">cap</span>. Use 0 for no cap.
			
			
		</tt></p>
		<a name="about-trace"></a>
		<p>
		<tt>
		<b><font color="yellow">trace (string)</font></b><br>
			Writes string #<span class="param">string</span> to "G_DEBUG.TXT".
			<pre>variable(i)
i:= random(1,1000)
$1="i = "
append number(1,i) #"i = 1"
trace(1) # writes "TRACE: i = 1" to G_DEBUG.TXT</pre>
			
		</tt></p>
		
		<hr>
	
		<a name="Predefined Constants"></a>
		
		<font color="#f06060" size="4">Predefined Constants</font>
		<p></p>
		
		<a name="about-numericconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Numeric Constants</font></b><br>
			PLOTSCR.HSD defines constants for the numbers from 0 to 10. you can use these constants to make your scripts look friendly :)<br>zero, one, two, three, four, five, six, seven, eight, nine, ten
			
			
		</tt></p>
		<a name="about-zero"></a>
		<p>
		<tt>
		
				<b><font color="yellow">zero</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-one"></a>
		<p>
		<tt>
		
				<b><font color="yellow">one</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-two"></a>
		<p>
		<tt>
		
				<b><font color="yellow">two</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-three"></a>
		<p>
		<tt>
		
				<b><font color="yellow">three</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-four"></a>
		<p>
		<tt>
		
				<b><font color="yellow">four</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-five"></a>
		<p>
		<tt>
		
				<b><font color="yellow">five</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-six"></a>
		<p>
		<tt>
		
				<b><font color="yellow">six</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-seven"></a>
		<p>
		<tt>
		
				<b><font color="yellow">seven</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-eight"></a>
		<p>
		<tt>
		
				<b><font color="yellow">eight</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-nine"></a>
		<p>
		<tt>
		
				<b><font color="yellow">nine</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-ten"></a>
		<p>
		<tt>
		
				<b><font color="yellow">nine</font></b><br>
				See <a href="#about-numericconstants">Numeric Constants</a>
			</tt></p>
		<a name="about-keyconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Key Constants</font></b><br>
			PLOTSCR.HSD defines constants that correspond to each of the usable keys (or joystick buttons) that the player can press while playing. These are useful with the <a href="#about-waitforkey" class="ref">wait for key</a> command.<br>any key, up key, down key, left key, right key, use key, menu key, cancel key
			
			
		</tt></p>
		<a name="about-anykey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">any key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-upkey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">up key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-downkey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">down key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-leftkey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">left key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-rightkey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">right key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-usekey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">use key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-menukey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">menu key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-cancelkey"></a>
		<p>
		<tt>
		
				<b><font color="yellow">cancel key</font></b><br>
				See <a href="#about-keyconstants">Key Constants</a>
			</tt></p>
		<a name="about-booleanconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Boolean Constants</font></b><br>
			PLOTSCR.HSD defines constants for true and false, and for ON and OFF. These are useful for checking and setting the values of tags, and in conditional statements.<br>true, false, on, off
			
			
		</tt></p>
		<a name="about-true"></a>
		<p>
		<tt>
		
				<b><font color="yellow">true</font></b><br>
				See <a href="#about-booleanconstants">Boolean Constants</a>
			</tt></p>
		<a name="about-false"></a>
		<p>
		<tt>
		
				<b><font color="yellow">false</font></b><br>
				See <a href="#about-booleanconstants">Boolean Constants</a>
			</tt></p>
		<a name="about-on"></a>
		<p>
		<tt>
		
				<b><font color="yellow">on</font></b><br>
				See <a href="#about-booleanconstants">Boolean Constants</a>
			</tt></p>
		<a name="about-off"></a>
		<p>
		<tt>
		
				<b><font color="yellow">off</font></b><br>
				See <a href="#about-booleanconstants">Boolean Constants</a>
			</tt></p>
		<a name="about-directionconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Direction Constants</font></b><br>
			PLOTSCR.HSD defines constants for each of the four directions. These constants are useful for commands such as <a href="#about-walkhero" class="ref">walk hero</a> and <a href="#about-walknpc" class="ref">walk NPC</a>, which take a direction as an argument.<br>north, south, east, west, up, down, right, left
			
			
		</tt></p>
		<a name="about-north"></a>
		<p>
		<tt>
		
				<b><font color="yellow">north</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-south"></a>
		<p>
		<tt>
		
				<b><font color="yellow">south</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-east"></a>
		<p>
		<tt>
		
				<b><font color="yellow">east</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-west"></a>
		<p>
		<tt>
		
				<b><font color="yellow">west</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-up"></a>
		<p>
		<tt>
		
				<b><font color="yellow">up</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-down"></a>
		<p>
		<tt>
		
				<b><font color="yellow">down</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-right"></a>
		<p>
		<tt>
		
				<b><font color="yellow">right</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-left"></a>
		<p>
		<tt>
		
				<b><font color="yellow">left</font></b><br>
				See <a href="#about-directionconstants">Direction Constants</a>
			</tt></p>
		<a name="about-me"></a>
		<p>
		<tt>
		<b><font color="yellow">me</font></b><br>
			me is a constant that can be used to refer to the first hero in your party (hero zero) in any command that takes a hero number as an argument.
			
			
		</tt></p>
		<a name="about-none"></a>
		<p>
		<tt>
		<b><font color="yellow">none</font></b><br>
			none is a constant that means the same as zero. It is normally used in <a href="#about-definescript" class="ref">define script</a> commands for scripts that do not have any arguments
			
			
		</tt></p>
		<a name="about-autonumber"></a>
		<p>
		<tt>
		<b><font color="yellow">autonumber</font></b><br>
			autonumber is a constant that is used as the ID number in <a href="#about-definescript" class="ref">define script</a> commands for scripts that do not need to be called directly from the OHRRPGCE. Autonumber scripts are only called from within other scripts.
			
			
		</tt></p>
		<a name="about-currentstat"></a>
		<p>
		<tt>
		<b><font color="yellow">current stat</font></b><br>
			A constant for use with the <a href="#about-getherostat" class="ref">get hero stat</a> and <a href="#about-setherostat" class="ref">set hero stat</a> commands.
			
			
		</tt></p>
		<a name="about-maximumstat"></a>
		<p>
		<tt>
		<b><font color="yellow">maximum stat</font></b><br>
			A constant for use with the <a href="#about-getherostat" class="ref">get hero stat</a> and <a href="#about-setherostat" class="ref">set hero stat</a> commands.
			
			
		</tt></p>
		<a name="about-insidebattle"></a>
		<p>
		<tt>
		<b><font color="yellow">inside battle</font></b><br>
			A constant used in the <a href="#about-getheropicture" class="ref">get hero picture</a>, <a href="#about-setheropicture" class="ref">set hero picture</a>, <a href="#about-getheropalette" class="ref">get hero palette</a> and <a href="#about-setheropalette" class="ref">set hero palette</a> commands to represent the battle graphics.
			
			
		</tt></p>
		<a name="about-outsidebattle"></a>
		<p>
		<tt>
		<b><font color="yellow">outside battle</font></b><br>
			A constant used in the <a href="#about-getheropicture" class="ref">get hero picture</a>, <a href="#about-setheropicture" class="ref">set hero picture</a>, <a href="#about-getheropalette" class="ref">get hero palette</a> and <a href="#about-setheropalette" class="ref">set hero palette</a> commands to represent the walkabout graphics.
			
			
		</tt></p>
		<a name="about-colorconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Color Constants</font></b><br>
			PLOTSCR.HSD defines constants for each of the three primary colors. These are used in commands like <a href="#about-readcolor" class="ref">read color</a> or <a href="#about-writecolor" class="ref">write color</a><br>color:red, color:green, color:blue
			
			
		</tt></p>
		<a name="about-colorred"></a>
		<p>
		<tt>
		
				<b><font color="yellow">color:red</font></b><br>
				See <a href="#about-colorconstants">Color Constants</a>
			</tt></p>
		<a name="about-colorgreen"></a>
		<p>
		<tt>
		
				<b><font color="yellow">color:green</font></b><br>
				See <a href="#about-colorconstants">Color Constants</a>
			</tt></p>
		<a name="about-colorblue"></a>
		<p>
		<tt>
		
				<b><font color="yellow">color:blue</font></b><br>
				See <a href="#about-colorconstants">Color Constants</a>
			</tt></p>
		<a name="about-mouseconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Mouse Constants</font></b><br>
			PLOTSCR.HSD defines constants for use with the mouse functions. They're used the <a href="#about-mousebutton" class="ref">mouse button</a> command.<br>left button, right button
			
			
		</tt></p>
		<a name="about-leftbutton"></a>
		<p>
		<tt>
		
				<b><font color="yellow">left button</font></b><br>
				See <a href="#about-mouseconstants">Mouse Constants</a>
			</tt></p>
		<a name="about-rightbutton"></a>
		<p>
		<tt>
		
				<b><font color="yellow">right button</font></b><br>
				See <a href="#about-mouseconstants">Mouse Constants</a>
			</tt></p>
		<a name="about-getcount"></a>
		<p>
		<tt>
		<b><font color="yellow">get count</font></b><br>
			When passed to <a href="#about-npcatpixel" class="ref">NPC at pixel</a> or <a href="#about-npcatspot" class="ref">NPC at spot</a>, they return the number of NPCs at that spot. With <a href="#about-spellslearnt" class="ref">spells learnt</a> returns the number of spells a hero learnt.
			
			
		</tt></p>
		<a name="about-tileconstants"></a>
		<p>
		<tt>
		<b><font color="yellow">Tile Constants</font></b><br>
			PLOTSCR.HSD defines constants for use with functions like <a href="#about-readpassblock" class="ref">read pass block</a> or <a href="#about-writepassblock" class="ref">write pass block</a>.<br>north wall, east wall, south wall, west wall, vehicle A, vehicle B, harm tile, overhead tile
			
			
		</tt></p>
		<a name="about-northwall"></a>
		<p>
		<tt>
		
				<b><font color="yellow">north wall</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-eastwall"></a>
		<p>
		<tt>
		
				<b><font color="yellow">east wall</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-westwall"></a>
		<p>
		<tt>
		
				<b><font color="yellow">west wall</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-southwall"></a>
		<p>
		<tt>
		
				<b><font color="yellow">south wall</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-vehiclea"></a>
		<p>
		<tt>
		
				<b><font color="yellow">vehicle A</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-vehicleb"></a>
		<p>
		<tt>
		
				<b><font color="yellow">vehicle B</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-harmtile"></a>
		<p>
		<tt>
		
				<b><font color="yellow">harm tile</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-overheadtile"></a>
		<p>
		<tt>
		
				<b><font color="yellow">overhead tile</font></b><br>
				See <a href="#about-tileconstants">Tile Constants</a>
			</tt></p>
		<a name="about-crop"></a>
		<p>
		<tt>
		<b><font color="yellow">crop</font></b><br>
			A constant used in <a href="#about-setmapedgemode" class="ref">set map edge mode</a> which makes the edges of the map impassible and prevents the camera from scrolling off them.
			
			
		</tt></p>
		<a name="about-wrap"></a>
		<p>
		<tt>
		<b><font color="yellow">wrap</font></b><br>
			A constant used in <a href="#about-setmapedgemode" class="ref">set map edge mode</a> which lets the player walk over the edge of the map around to the opposite side.
			
			
		</tt></p>
		<a name="about-defaulttile"></a>
		<p>
		<tt>
		<b><font color="yellow">default tile</font></b><br>
			A constant used in <a href="#about-setmapedgemode" class="ref">set map edge mode</a> which makes the edges of the map impassible and displays a specified tile everywhere off the edge of the map.
			
			
		</tt></p>
		<a name="about-party"></a>
		<p>
		<tt>
		<b><font color="yellow">party</font></b><br>
			Pass as first argument to <a href="#about-giveexperience" class="ref">give experience</a> to divide the experience between all the live heroes in the battle (active) party.
			
			
		</tt></p>
		
		<hr>
	<p>Stats: There are 373 commands in this file, of which 51 are only references to other commands.</p>
<p>This file was generated from an XML file. The contents were painstakingly transcribed by Mike Caron from the original Plotscripting Dictionary, which was created by James Paige.</p>
</body>
</html>
